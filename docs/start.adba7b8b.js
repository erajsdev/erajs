parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EPnn":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(e){i(e)}}function u(t){try{s(r.throw(t))}catch(e){i(e)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function t(){this.fs=[]}return t.prototype.addListener=function(t){var e=this;this.fs.push(t);var n=!1;return function(){if(!n){n=!0;for(var r=-1,o=0;o<e.fs.length;o++)if(e.fs[o]===t){r=o;break}-1!==r&&e.fs.splice(r,1)}}},t.prototype.invoke=function(t){var e,r;try{for(var o=n(this.fs),i=o.next();!i.done;i=o.next()){(0,i.value)(t)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t}();exports.Event=r;var o=function(){function r(){this.fs=[]}return r.prototype.addListener=function(t){var e=this;this.fs.push(t);var n=!1;return function(){if(!n){n=!0;for(var r=-1,o=0;o<e.fs.length;o++)if(e.fs[o]===t){r=o;break}-1!==r&&e.fs.splice(r,1)}}},r.prototype.invoke=function(r){return t(this,void 0,void 0,function(){var t,o,i,a,u;return e(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,7]),i=n(this.fs.slice()),a=i.next(),e.label=1;case 1:return a.done?[3,4]:[4,(0,a.value)(r)];case 2:e.sent(),e.label=3;case 3:return a=i.next(),[3,1];case 4:return[3,7];case 5:return u=e.sent(),t={error:u},[3,7];case 6:try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}return[7];case 7:return[2]}})})},r}();exports.AsyncEvent=o;
},{}],"UbnF":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,u)}a((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this;Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./util/event"),s=function(){function i(){this.currentAlign="left",this.initialized=!1,this.currentPrintMode="normal",this.inputStringEvent=new o.Event,this.clickEvent=new o.Event,this.newerButtonStarters=[],this.olderButtonDisposers=[]}return i.prototype.initialize=function(){var t=this;this.initialized||(this.initialized=!0,console.log("io init"),this.mainBox=document.createElement("div"),this.mainBox.classList.add("mainbox"),document.body.appendChild(this.mainBox),this.texts=document.createElement("div"),this.texts.classList.add("texts"),this.mainBox.appendChild(this.texts),this.currentLine=document.createElement("div"),this.currentLine.classList.add("line"),this.texts.appendChild(this.currentLine),this.lastElement=document.createElement("div"),this.lastElement.classList.add("lastelement"),this.mainBox.appendChild(this.lastElement),this.textInput=document.createElement("input"),this.textInput.classList.add("textinput"),document.body.appendChild(this.textInput),window.addEventListener("mousedown",function(e){e.stopPropagation(),t.clickEvent.invoke()}),window.addEventListener("contextmenu",function(t){t.stopPropagation(),t.preventDefault()}),window.addEventListener("dblclick",function(t){window.getSelection&&window.getSelection().removeAllRanges(),t.stopPropagation(),t.preventDefault()}),this.textInput.addEventListener("keydown",function(e){"Enter"===e.key&&t.textInput&&(e.stopPropagation(),t.inputStringEvent.invoke(t.textInput.value))}))},i.prototype.printDOMElement=function(t){if(!this.currentLine)throw new Error;this.currentLine.appendChild(t)},i.prototype.ensureNewline=function(){return t(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:if(!this.currentLine)throw new Error;return 0===this.currentLine.childElementCount?[3,2]:[4,this.newline()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.newline=function(){return this.newlineRaw("line")},i.prototype.newlinec=function(){return this.newlineRaw("cells")},i.prototype.newlineRaw=function(n){return t(this,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:if(!this.texts)throw new Error;for(this.currentLine=document.createElement("div"),this.currentLine.classList.add(n),this.currentLine.classList.add("align-"+this.currentAlign),this.texts.appendChild(this.currentLine);this.texts.childElementCount>1e3;)(t=this.texts.firstChild)&&this.texts.removeChild(t);return[4,this.waitTime(0)];case 1:return e.sent(),[2]}})})},i.prototype.waitTime=function(t){var e=this;return new Promise(function(n){e.scrollToBottom(),window.setTimeout(function(){e.scrollToBottom(),n()},t)})},i.prototype.align=function(t){this.currentAlign=t},i.prototype.printNormalDOM=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return"normal"===this.currentPrintMode?[3,2]:(this.currentPrintMode="normal",[4,this.newline()]);case 1:t.sent(),t.label=2;case 2:return this.printDOMElement(n),[2]}})})},i.prototype.printNormalRaw=function(n,r,i){return t(this,void 0,Promise,function(){var t,o;return e(this,function(e){switch(e.label){case 0:return i?(t=document.createTextNode(n),(o=document.createElement(r||"span")).appendChild(t),o.classList.add.apply(o.classList,i),[4,this.printNormalDOM(o)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.printNormalDOM(document.createTextNode(n))];case 3:e.sent(),e.label=4;case 4:return[2]}})})},i.prototype.printCellDOM=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return"cells"===this.currentPrintMode?[3,2]:(this.currentPrintMode="cells",[4,this.newlinec()]);case 1:t.sent(),t.label=2;case 2:return[4,this.printDOMElement(n)];case 3:return t.sent(),[2]}})})},i.prototype.printCellRaw=function(n,r,i){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.autoFormatString(n)];case 1:return(t=e.sent()).classList.add("cell"),[4,this.printCellDOM(t)];case 2:return e.sent(),[2]}})})},i.prototype.printButton=function(n,r){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.makeButton(n,r)];case 1:return t=e.sent(),[4,this.printNormalDOM(t)];case 2:return e.sent(),[2]}})})},i.prototype.printcButton=function(n,r){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.makeButton(n,r)];case 1:return(t=e.sent()).classList.add("cell"),[4,this.printCellDOM(t)];case 2:return e.sent(),[2]}})})},i.prototype.makeButton=function(n,r){return t(this,void 0,Promise,function(){var t,i,o,s=this;return e(this,function(e){return t=document.createTextNode(n),i=document.createElement("span"),o=function(){s.inputStringEvent.invoke(r)},this.newerButtonStarters.push(function(){i.classList.add("button"),i.addEventListener("click",o)}),this.olderButtonDisposers.push(function(){i.classList.remove("button"),i.removeEventListener("click",o)}),i.appendChild(t),[2,i]})})},i.prototype.prints=function(n){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.autoFormatString(n)];case 1:return t=e.sent(),[4,this.printNormalDOM(t)];case 2:return e.sent(),[2]}})})},i.prototype.autoFormatString=function(n){return t(this,void 0,Promise,function(){var t,r,i,o,s,u;return e(this,function(e){switch(e.label){case 0:t=document.createElement("span"),r=/[^\[]*\[(\d+)\][^\[]*/g,i=!1,e.label=1;case 1:return(o=r.exec(n))?(i=!0,u=(s=t).appendChild,[4,this.makeButton(o[0],o[1])]):[3,3];case 2:return u.apply(s,[e.sent()]),[3,1];case 3:return i||t.appendChild(document.createTextNode(n)),[2,t]}})})},i.prototype.printc=function(n){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.autoFormatString(n)];case 1:return(t=e.sent()).classList.add("cell"),[4,this.printCellDOM(t)];case 2:return e.sent(),[2]}})})},i.prototype.printl=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return void 0===n?[3,2]:[4,this.prints(n)];case 1:t.sent(),t.label=2;case 2:return[4,this.newline()];case 3:return t.sent(),[2]}})})},i.prototype.printError=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return void 0===n?[3,2]:[4,this.printNormalRaw(n,"pre",["error"])];case 1:t.sent(),t.label=2;case 2:return[4,this.newline()];case 3:return t.sent(),[2]}})})},i.prototype.printw=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return void 0===n?[3,2]:[4,this.prints(n)];case 1:t.sent(),t.label=2;case 2:return[4,this.newline()];case 3:return t.sent(),[4,this.wait()];case 4:return t.sent(),[2]}})})},i.prototype.drawLine=function(){return t(this,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.ensureNewline()];case 1:return e.sent(),t=document.createElement("hr"),[4,this.printNormalDOM(t)];case 2:return e.sent(),[4,this.newline()];case 3:return e.sent(),[2]}})})},i.prototype.printBar=function(n,r,i){return t(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return[4,this.printNormalDOM(this.makeBar(n,r,i))];case 1:return t.sent(),[2]}})})},i.prototype.makeBar=function(t,e,n){var r=document.createElement("span"),i=function(t,e){var n=document.createElement("span");return n.classList.add(t),e&&n.appendChild(document.createTextNode(e)),r.appendChild(n),n};r.classList.add("bar");var o=Math.max(0,Math.min(1,e/n)),s=i("filled"),u=i("unfilled");return s.style.width=t*o*.5+"em",u.style.width=t*(1-o)*.5+"em",r},i.prototype.inputNumber=function(){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,exports.io.ensureNewline()];case 1:e.sent(),e.label=2;case 2:return[4,this.inputStringInternal("(数値入力待ち)")];case 3:return""===(t=e.sent())||isNaN(+t)?[3,2]:[2,+t];case 4:return[2]}})})},i.prototype.inputString=function(){return t(this,void 0,Promise,function(){return e(this,function(t){switch(t.label){case 0:return[4,exports.io.ensureNewline()];case 1:return t.sent(),[4,this.inputStringInternal("(文字列入力待ち)")];case 2:return[2,t.sent()]}})})},i.prototype.inputStringInternal=function(t){var e=this;return new Promise(function(r){var i,o;try{for(var s=n(e.newerButtonStarters),u=s.next();!u.done;u=s.next()){(0,u.value)()}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e.newerButtonStarters.splice(0,e.newerButtonStarters.length);var a=e.inputStringEvent.addListener(function(t){var i,o;a(),e.textInput&&(e.textInput.placeholder="",e.textInput.value="");try{for(var s=n(e.olderButtonDisposers),u=s.next();!u.done;u=s.next()){(0,u.value)()}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e.olderButtonDisposers.splice(0,e.olderButtonDisposers.length),r(t)});e.lastElement&&(e.lastElement.textContent=""),e.scrollToBottom(),e.textInput&&(e.textInput.value="",e.textInput.placeholder=t)})},i.prototype.wait=function(){var t=this;return new Promise(function(e){t.ensureNewline(),t.textInput&&(t.textInput.value="",t.textInput.placeholder="(クリックで進む)"),t.scrollToBottom();var n=function(){r(),i(),t.textInput&&(t.textInput.value=""),t.lastElement&&(t.lastElement.textContent=""),e()},r=t.clickEvent.addListener(function(){n()}),i=t.inputStringEvent.addListener(function(){n()})})},i.prototype.scrollToBottom=function(){var t=this;this.lastElement&&this.lastElement.scrollIntoView(),window.setTimeout(function(){t.lastElement&&t.lastElement.scrollIntoView(),t.textInput&&t.textInput.focus()},0)},i.prototype.branch=function(i){return t(this,void 0,Promise,function(){var t,o,s,u,a,c,l,h,p;return e(this,function(e){switch(e.label){case 0:return[4,exports.io.ensureNewline()];case 1:e.sent(),e.label=2;case 2:0,s=0,e.label=3;case 3:e.trys.push([3,8,9,10]),u=n(i),a=u.next(),e.label=4;case 4:return a.done?[3,7]:(c=r(a.value,2),l=c[0],c[1],[4,exports.io.printcButton(l,""+s)]);case 5:e.sent(),s++,e.label=6;case 6:return a=u.next(),[3,4];case 7:return[3,10];case 8:return h=e.sent(),t={error:h},[3,10];case 9:try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}return[7];case 10:return[4,exports.io.inputNumber()];case 11:return(p=e.sent())<0||p>=i.length?[3,2]:[2,i[p][1]];case 12:return[2]}})})},i.prototype.branchBlank=function(){return[]},i}();exports.io=new s,exports.initializeModule=new o.AsyncEvent,exports.initializeModule.addListener(function(){return t(i,void 0,void 0,function(){return e(this,function(t){return exports.io.initialize(),[2]})})});
},{"./util/event":"EPnn"}],"BVSQ":[function(require,module,exports) {
var define;
var o,r=function(){var o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function t(o,r){if(!e[o]){e[o]={};for(var n=0;n<o.length;n++)e[o][o.charAt(n)]=n}return e[o][r]}var s={compressToBase64:function(o){if(null==o)return"";var n=s._compress(o,6,function(o){return r.charAt(o)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(o){return null==o?"":""==o?null:s._decompress(o.length,32,function(n){return t(r,o.charAt(n))})},compressToUTF16:function(r){return null==r?"":s._compress(r,15,function(r){return o(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=s.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);n[2*e]=i>>>8,n[2*e+1]=i%256}return n},decompressFromUint8Array:function(r){if(null==r)return s.decompress(r);for(var n=new Array(r.length/2),e=0,t=n.length;e<t;e++)n[e]=256*r[2*e]+r[2*e+1];var i=[];return n.forEach(function(r){i.push(o(r))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,function(o){return n.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(r){return t(n,o.charAt(r))}))},compress:function(r){return s._compress(r,16,function(r){return o(r)})},_compress:function(o,r,n){if(null==o)return"";var e,t,s,i={},p={},u="",c="",a="",l=2,f=3,h=2,d=[],m=0,v=0;for(s=0;s<o.length;s+=1)if(u=o.charAt(s),Object.prototype.hasOwnProperty.call(i,u)||(i[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(i,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=i[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),i[c]=f++,a=String(u)}if(""!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=i[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,n,e){var t,s,i,p,u,c,a,l=[],f=4,h=4,d=3,m="",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(i=0,u=Math.pow(2,2),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;a=o(i);break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;a=o(i);break;case 2:return""}for(l[3]=a,s=a,v.push(a);;){if(w.index>r)return"";for(i=0,u=Math.pow(2,d),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;switch(a=i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;l[h++]=o(i),a=h-1,f--;break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;l[h++]=o(i),a=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[a])m=l[a];else{if(a!==h)return null;m=s+s.charAt(0)}v.push(m),l[h++]=s+m.charAt(0),s=m,0==--f&&(f=Math.pow(2,d),d++)}}};return s}();"function"==typeof o&&o.amd?o(function(){return r}):"undefined"!=typeof module&&null!=module&&(module.exports=r);
},{}],"y9i9":[function(require,module,exports) {
"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(e)}var e=this&&this.__values||function(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}},t=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,a,n=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i},o=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e};Object.defineProperty(exports,"__esModule",{value:!0});var a=o(require("lz-string")),n=function(){function o(){this.classes=new Map,this.classNames=new Map,this.map=new Map}return o.prototype.registerClass=function(r,e){this.classes.set(e,r),this.classNames.set(r,e)},o.prototype.registerMember=function(r,e){var t=this.map.get(r);void 0===t?this.map.set(r,[e]):t.push(e)},o.prototype.saveStorage=function(r,e){window.localStorage.setItem(r,e)},o.prototype.loadStorage=function(r){return window.localStorage.getItem(r)||""},o.prototype.removeStorage=function(r){window.localStorage.removeItem(r)},o.prototype.serialize=function(r){var e=this.convertToSerializableData(r),t=JSON.stringify(e);return a.compressToBase64(t)},o.prototype.deserialize=function(r){var e=a.decompressFromBase64(r),t=JSON.parse(e);return this.makeFromSerializableData(t)},o.prototype.clone=function(r){var e=this.convertToSerializableData(r);return this.makeFromSerializableData(e)},o.prototype.makeFromSerializableData=function(o){var a,n;if(null===o)return null;if(void 0!==o&&"symbol"!==r(o)&&"function"!=typeof o){if("number"==typeof o)return o;if("boolean"==typeof o)return o;if("string"==typeof o)return o;if("object"===r(o)){var i=o.__class__;if("Map"===i){var s=new Map,l=o.__data__;try{for(var u=e(l),f=u.next();!f.done;f=u.next()){var c=t(f.value,2),p=c[0],y=c[1];void 0!==p&&void 0!==y&&s.set(p,y)}}catch(b){a={error:b}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return s}if(this.classes.has(i)){var v=this.classes.get(i),m=o.__data__;if(v&&m){var h=new v;for(var p in m){var _=this.makeFromSerializableData(m[p]);h[p]=_}return h}return o}return o}}},o.prototype.convertToSerializableData=function(t){var o,a;if(null===t)return null;if(void 0!==t&&"symbol"!==r(t)&&"function"!=typeof t){if("number"==typeof t)return t;if("boolean"==typeof t)return t;if("string"==typeof t)return t;if(t instanceof Array){for(var n=[],i=0;i<t.length;i++)n.push(this.convertToSerializableData(t[i]));return n}if(t instanceof Map){(n=Object.create(null)).__class__="Map";var s=Array();return n.__data__=s,t.forEach(function(r,e,t){s.push([e,r])}),n}if("object"!==r(t));else{var l=t.constructor,u=this.classNames.get(l),f=this.map.get(l);if(u&&f){var c=Object.create(null);try{for(var p=e(f),y=p.next();!y.done;y=p.next()){var v=y.value,m=t[v];this.convertToSerializableData(m);void 0!==m&&(c[""+v]=m)}}catch(h){o={error:h}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return(n=Object.create(null)).__class__=u,n.__data__=c,n}}}},o}();exports.SaveManager=n,exports.serializer=new n,exports.savedata=function(r,e){exports.serializer.registerMember(r.constructor,e)},exports.saveclass=function(r){return function(e){exports.serializer.registerClass(e,r)}};
},{"lz-string":"BVSQ"}],"1/bm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uniqueId=function(e){void 0===e&&(e=12);var r=new Uint8Array(e);window.crypto.getRandomValues(r);var t=String.fromCharCode.apply(null,r);return btoa(t).substr(0,e)};
},{}],"wrWG":[function(require,module,exports) {
"use strict";var r=this&&this.__values||function(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}};Object.defineProperty(exports,"__esModule",{value:!0}),require("./charaloader");var e=function(){function e(){var t,n;this.番号=-1,this.名前="＜名前＞",this.呼び名="＜呼び名＞";try{for(var o=r(e.prepareFunctions),a=o.next();!a.done;a=o.next()){(0,a.value)(this)}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}return e.prepareFunctions=[],e}();exports.CharacterDef=e;
},{"./charaloader":"1Cdw"}],"aVf5":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function u(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(u,a)}s((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},n=this;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../io");exports.viewAnyCharacterStatus=function(){return e(n,void 0,void 0,function(){return t(this,function(e){return[2]})})},exports.viewStatus=function(i){return e(n,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r.io.drawLine()];case 1:return e.sent(),[4,r.io.printl("名前: "+i.呼び名+" ("+i.名前+")")];case 2:return e.sent(),[4,exports.viewGauge(i)];case 3:return e.sent(),[4,r.io.drawLine()];case 4:return e.sent(),[4,exports.viewExp(i)];case 5:return e.sent(),[2]}})})},exports.viewExp=function(i){return e(n,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r.io.printc("キス経験: "+i.経験.キス)];case 1:return e.sent(),[4,r.io.printc("絶頂経験: "+i.経験.絶頂)];case 2:return e.sent(),[4,r.io.printc("精液経験: "+i.経験.精液)];case 3:return e.sent(),[4,r.io.printc("噴乳経験: "+i.経験.噴乳)];case 4:return e.sent(),[4,r.io.printc("精飲経験: "+i.経験.精飲)];case 5:return e.sent(),[4,r.io.printc("膣射経験: "+i.経験.膣射)];case 6:return e.sent(),[4,r.io.printc("射精経験: "+i.経験.射精)];case 7:return e.sent(),[2]}})})},exports.viewGauge=function(i){return e(n,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r.io.prints("　体力: "+i.変動.体力.value+"/"+i.変動.体力.max)];case 1:return e.sent(),[4,r.io.printBar(30,i.変動.体力.value,i.変動.体力.max)];case 2:return e.sent(),[4,r.io.newline()];case 3:return e.sent(),[4,r.io.prints("　気力: "+i.変動.気力.value+"/"+i.変動.気力.max)];case 4:return e.sent(),[4,r.io.printBar(30,i.変動.気力.value,i.変動.気力.max)];case 5:return e.sent(),[4,r.io.newline()];case 6:return e.sent(),[2]}})})};
},{"../io":"UbnF"}],"bC+/":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function u(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},r=this;Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./event");exports.makeModuleInitializer=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var u=new o.AsyncEvent;return u.addListener(function(){return e(r,void 0,void 0,function(){var e,r,o,i,u;return t(this,function(t){switch(t.label){case 0:t.trys.push([0,6,7,8]),o=n(a),i=o.next(),t.label=1;case 1:return i.done?[3,5]:[4,i.value];case 2:return[4,t.sent().initializeModule.invoke()];case 3:t.sent(),t.label=4;case 4:return i=o.next(),[3,1];case 5:return[3,8];case 6:return u=t.sent(),e={error:u},[3,8];case 7:try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}return[7];case 8:return[2]}})})}),u};
},{"./event":"EPnn"}],"ny5r":[function(require,module,exports) {
"use strict";function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tuple=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Object.freeze(t)},exports.constMap=function(t){return t},exports.keys=function(t){return Object.keys(t)},exports.isInArray=function(t,r){return-1!==r.indexOf(t)},exports.getOrDefault=function(r,e,o){if(!r||"object"!==t(r))return o;var n=r[e];return t(n)===t(o)?n:o},exports.getString=function(r,e,o){if(!r||"object"!==t(r))return o;var n=r[e];return"string"==typeof n?n:o},exports.getStringOrError=function(r,e,o){if(!r||"object"!==t(r))throw new Error(o);var n=r[e];if("string"==typeof n)return n;throw new Error(o)},exports.getNumber=function(r,e,o){if(!r||"object"!==t(r))return o;var n=r[e];return"number"==typeof n?n:o};
},{}],"pxMu":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__decorate||function(e,o,i,n){var a,r=arguments.length,s=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,i):n;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,i,n);else for(var p=e.length-1;p>=0;p--)(a=e[p])&&(s=(r<3?a(s):r>3?a(o,i,s):a(o,i))||s);return r>3&&s&&Object.defineProperty(o,i,s),s},o=this&&this.__metadata||function(e,o){if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,a){function r(t){try{p(i.next(t))}catch(e){a(e)}}function s(t){try{p(i.throw(t))}catch(e){a(e)}}function p(t){t.done?n(t.value):new o(function(e){e(t.value)}).then(r,s)}p((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],i=0}finally{o=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../savedata"),s=require("../charadef"),p=require("../character"),d=require("../util/tuple"),c=require("../util/event");console.log("exp"),exports.initializeModule=new c.AsyncEvent,exports.initializeModule.addListener(function(){return i(a,void 0,void 0,function(){return n(this,function(t){return s.CharacterDef.prepareFunctions.push(function(t){t.経験=new u}),p.CharactersContainer.prepareFunctions.push(function(t,e){t.経験=e?r.serializer.clone(e.経験):new u}),[2]})})}),exports.initializeModule.addListener(function(){return i(a,void 0,void 0,function(){return n(this,function(t){return p.UnidirectionalRelationship.initializers.push(function(t){t.受けた経験=new u}),[2]})})});var y=function(){function t(){this.快楽=0,this.無自覚快楽=0,this.自慰=0,this.拡張=0,this.Ｐ挿入=0,this.絶頂=0,this.無自覚絶頂=0,this.精液=0,this.キス=0}return e([r.savedata,o("design:type",Object)],t.prototype,"快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"無自覚快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"自慰",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"拡張",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ｐ挿入",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"絶頂",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"無自覚絶頂",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"精液",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"キス",void 0),t=e([r.saveclass("partexp")],t)}();exports.PartExp=y,exports.KeyOfPartExp=d.tuple("快楽","無自覚快楽","絶頂","無自覚絶頂","自慰","拡張","Ｐ挿入","精液","キス"),exports.isPartExp=function(e){if("object"!==t(e))return!1;for(var o in exports.KeyOfPartExp)if("number"!=typeof e[o])return!1;return!0};var u=function(){function t(){this.Ｃ=new y,this.Ｐ=new y,this.Ｖ=new y,this.Ａ=new y,this.Ｂ=new y,this.Ｍ=new y,this.手淫=0,this.口淫=0,this.パイズリ=0,this.絶頂=0,this.射精=0,this.噴乳=0,this.放尿=0,this.精液=0,this.精飲=0,this.膣射=0,this.肛射=0,this.キス=0,this.調教=0,this.レズ=0,this.ゲイ=0,this.奉仕快楽=0,this.苦痛快楽=0,this.嗜虐快楽=0,this.露出快楽=0,this.愛情=0}return e([r.savedata,o("design:type",Object)],t.prototype,"Ｃ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ｐ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ｖ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ａ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ｂ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"Ｍ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"手淫",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"口淫",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"パイズリ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"絶頂",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"射精",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"噴乳",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"放尿",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"精液",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"精飲",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"膣射",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"肛射",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"キス",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"調教",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"レズ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"ゲイ",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"奉仕快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"苦痛快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"嗜虐快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"露出快楽",void 0),e([r.savedata,o("design:type",Object)],t.prototype,"愛情",void 0),t=e([r.saveclass("exptable")],t)}();exports.ExpTable=u,exports.KeyOfExpTable=d.tuple("Ｃ","Ｐ","Ｖ","Ａ","Ｂ","Ｍ","手淫","口淫","パイズリ","絶頂","射精","噴乳","放尿","精液","精飲","膣射","肛射","キス","調教","レズ","ゲイ","奉仕快楽","苦痛快楽","嗜虐快楽","露出快楽","愛情"),exports.isExpTable=function(e){if("object"!==t(e))return!1;for(var o in exports.KeyOfExpTable)if(void 0===e[o])return!1;return!0};
},{"../savedata":"y9i9","../charadef":"wrWG","../character":"uvOE","../util/tuple":"ny5r","../util/event":"EPnn"}],"s5xr":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,n,r,o){var i,a=arguments.length,u=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,r):o;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,r,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(u=(a<3?i(u):a>3?i(n,r,u):i(n,r))||u);return a>3&&u&&Object.defineProperty(n,r,u),u},n=this&&this.__metadata||function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function u(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},a=this;Object.defineProperty(exports,"__esModule",{value:!0});var u=require("../savedata"),c=require("../charadef"),l=require("../character"),s=require("../util/event");console.log("gauge"),exports.initializeModule=new s.AsyncEvent,exports.initializeModule.addListener(function(){return r(a,void 0,void 0,function(){return o(this,function(e){return c.CharacterDef.prepareFunctions.push(function(e){e.変動=new f,e.スコア=new f}),l.CharactersContainer.prepareFunctions.push(function(e,t){t?(e.変動=u.serializer.clone(t.変動),e.スコア=u.serializer.clone(t.スコア)):(e.変動=new f,e.スコア=new f)}),[2]})})});var f=function(){function e(){var e,t;this.体力=new p,this.気力=new p,this.年齢=new p;try{for(var n=i(r.extensionInitializer),o=n.next();!o.done;o=n.next()){(0,o.value)(this)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}var r;return r=e,e.extensionInitializer=[],t([u.savedata,n("design:type",Object)],e.prototype,"体力",void 0),t([u.savedata,n("design:type",Object)],e.prototype,"気力",void 0),t([u.savedata,n("design:type",Object)],e.prototype,"年齢",void 0),e=r=t([u.saveclass("gaugetable"),n("design:paramtypes",[])],e)}();exports.GaugeTable=f,exports.KeyOfGaugeTable=["体力","気力","年齢"];var p=function(){function e(e,t,n){this.max=Number.POSITIVE_INFINITY,this.min=0,this.value=0,this.value=void 0!==e?e:0,this.min=void 0!==t?t:0,this.max=void 0!==n?n:Number.POSITIVE_INFINITY}return t([u.savedata,n("design:type",Object)],e.prototype,"max",void 0),t([u.savedata,n("design:type",Object)],e.prototype,"min",void 0),t([u.savedata,n("design:type",Object)],e.prototype,"value",void 0),e=t([u.saveclass("gauge"),n("design:paramtypes",[Number,Number,Number])],e)}();exports.Gauge=p;
},{"../savedata":"y9i9","../charadef":"wrWG","../character":"uvOE","../util/event":"EPnn"}],"bvVd":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,o,i,n){var a,r=arguments.length,s=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,i):n;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,o,i,n);else for(var p=t.length-1;p>=0;p--)(a=t[p])&&(s=(r<3?a(s):r>3?a(o,i,s):a(o,i))||s);return r>3&&s&&Object.defineProperty(o,i,s),s},o=this&&this.__metadata||function(t,o){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,a){function r(e){try{p(i.next(e))}catch(t){a(t)}}function s(e){try{p(i.throw(e))}catch(t){a(t)}}function p(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(r,s)}p((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,i,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],i=0}finally{o=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../savedata"),s=require("../charadef"),p=require("../character"),d=require("../util/tuple"),c=require("../util/event");console.log("level"),exports.initializeModule=new c.AsyncEvent,exports.initializeModule.addListener(function(){return i(a,void 0,void 0,function(){return n(this,function(e){return s.CharacterDef.prepareFunctions.push(function(e){e.レベル=new u}),p.CharactersContainer.prepareFunctions.push(function(e,t){e.レベル=t?r.serializer.clone(t.レベル):new u}),[2]})})});var u=function(){function e(){this.Ｃ感覚=0,this.Ｐ感覚=0,this.Ｖ感覚=0,this.Ａ感覚=0,this.Ｂ感覚=0,this.Ｍ感覚=0,this.親密=0,this.従順=0,this.欲望=0,this.技巧=0,this.奉仕精神=0,this.露出癖=0,this.マゾっ気=0,this.サドっ気=0,this.レズっ気=0,this.ホモっ気=0,this.自慰中毒=0,this.精液中毒=0,this.レズ中毒=0,this.ゲイ中毒=0,this.膣射中毒=0,this.肛射中毒=0,this.苦痛刻印=0,this.快楽刻印=0,this.反発刻印=0}return t([r.savedata,o("design:type",Object)],e.prototype,"Ｃ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"Ｐ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"Ｖ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"Ａ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"Ｂ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"Ｍ感覚",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"親密",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"従順",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"欲望",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"技巧",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"奉仕精神",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"露出癖",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"マゾっ気",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"サドっ気",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"レズっ気",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"ホモっ気",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"自慰中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"精液中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"レズ中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"ゲイ中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"膣射中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"肛射中毒",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"苦痛刻印",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"快楽刻印",void 0),t([r.savedata,o("design:type",Object)],e.prototype,"反発刻印",void 0),e=t([r.saveclass("leveltable")],e)}();exports.LevelTable=u,exports.KeyOfLevelTable=d.tuple("Ｃ感覚","Ｐ感覚","Ｖ感覚","Ａ感覚","Ｂ感覚","Ｍ感覚","親密","従順","欲望","技巧","奉仕精神","露出癖","マゾっ気","サドっ気","レズっ気","ホモっ気","自慰中毒","精液中毒","レズ中毒","ゲイ中毒","膣射中毒","肛射中毒","苦痛刻印","快楽刻印","反発刻印");
},{"../savedata":"y9i9","../charadef":"wrWG","../character":"uvOE","../util/tuple":"ny5r","../util/event":"EPnn"}],"bLjJ":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__decorate||function(e,n,r,o){var i,a=arguments.length,c=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,r):o;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(n,r,c):i(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},n=this&&this.__metadata||function(e,n){if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(e){i(e)}}function c(t){try{s(r.throw(t))}catch(e){i(e)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=this;Object.defineProperty(exports,"__esModule",{value:!0});var c,s=require("../savedata"),u=require("../charadef"),l=require("../character"),f=require("../util/event");exports.initializeModule=new f.AsyncEvent,exports.initializeModule.addListener(function(){return r(a,void 0,void 0,function(){return o(this,function(t){return u.CharacterDef.prepareFunctions.push(function(t){t.汚れ=new y}),l.CharactersContainer.prepareFunctions.push(function(t,e){t.汚れ=e?s.serializer.clone(e.汚れ):new y}),[2]})})}),function(t){t[t["Ｖ"]=0]="Ｖ",t[t["Ｐ"]=1]="Ｐ",t[t["Ａ"]=2]="Ａ",t[t["愛液"]=3]="愛液",t[t["精液"]=4]="精液",t[t["粘液"]=5]="粘液",t[t["ローション"]=6]="ローション",t[t["母乳"]=7]="母乳",t[t["破瓜の血"]=8]="破瓜の血"}(c=exports.StainType||(exports.StainType={}));var p=function(){function t(){this.contents=new Set}var r;return r=t,t.blendEach=function(){for(var t,e,n,r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];try{for(var c=i(o),s=c.next();!s.done;s=c.next()){var u=s.value;try{for(var l=i(o),f=l.next();!f.done;f=l.next()){var p=f.value;u!==p&&u.setFrom(p)}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}},t.prototype.clear=function(){this.contents.clear()},t.prototype.has=function(t){return this.contents.has(t)},t.prototype.set=function(t){this.contents.add(t)},t.prototype.setFrom=function(t){var e=this;t.contents.forEach(function(t){return e.set(t)})},t.prototype.remove=function(t){this.contents.delete(t)},t.prototype.blend=function(t){var e=new r;return e.setFrom(this),e.setFrom(t),e},e([s.savedata,n("design:type",Object)],t.prototype,"contents",void 0),t=r=e([s.saveclass("stain")],t)}();exports.Stain=p;var y=function(){function t(){this.Ｖ=new p,this.Ｂ=new p,this.Ｐ=new p,this.Ａ=new p,this.Ｍ=new p,this.手=new p,this.膣内=new p,this.腸内=new p}return e([s.savedata,n("design:type",Object)],t.prototype,"Ｖ",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"Ｂ",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"Ｐ",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"Ａ",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"Ｍ",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"手",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"膣内",void 0),e([s.savedata,n("design:type",Object)],t.prototype,"腸内",void 0),t=e([s.saveclass("staintable")],t)}();exports.StainTable=y;
},{"../savedata":"y9i9","../charadef":"wrWG","../character":"uvOE","../util/event":"EPnn"}],"hDeS":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__decorate||function(e,o,i,a){var s,p=arguments.length,d=p<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,i):a;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,o,i,a);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(d=(p<3?s(d):p>3?s(o,i,d):s(o,i))||d);return p>3&&d&&Object.defineProperty(o,i,d),d},o=this&&this.__metadata||function(e,o){if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(a,s){function p(t){try{n(i.next(t))}catch(e){s(e)}}function d(t){try{n(i.throw(t))}catch(e){s(e)}}function n(t){t.done?a(t.value):new o(function(e){e(t.value)}).then(p,d)}n((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,i,a,s,p={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function d(s){return function(d){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;p;)try{if(o=1,i&&(a=2&s[0]?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return p.label++,{value:s[1],done:!1};case 5:p.label++,i=s[1],s=[0];continue;case 7:s=p.ops.pop(),p.trys.pop();continue;default:if(!(a=(a=p.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){p=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){p.label=s[1];break}if(6===s[0]&&p.label<a[1]){p.label=a[1],a=s;break}if(a&&p.label<a[2]){p.label=a[2],p.ops.push(s);break}a[2]&&p.ops.pop(),p.trys.pop();continue}s=e.call(t,p)}catch(d){s=[6,d],i=0}finally{o=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,d])}}},s=this;Object.defineProperty(exports,"__esModule",{value:!0});var p=require("../savedata"),d=require("../charadef"),n=require("../character"),r=require("../util/event");console.log("trait"),exports.initializeModule=new r.AsyncEvent,exports.initializeModule.addListener(function(){return i(s,void 0,void 0,function(){return a(this,function(t){return d.CharacterDef.prepareFunctions.push(function(t){t.特性=new y}),n.CharactersContainer.prepareFunctions.push(function(t,e){t.特性=e?p.serializer.clone(e.特性):new y}),[2]})})});var y=function(){function t(){this.処女=!1,this.童貞=!1,this.Ｐ有り=!1,this.Ｖ有り=!0,this.Ｂ有り=!0,this.Ｃ有り=!0,this.小人=!1,this.幼児体型=!1,this.小柄=!1,this.長身=!1,this.巨躯=!1,this.巨人=!1,this.巨乳=!1,this.貧乳=!1,this.爆乳=!1,this.絶壁=!1,this.巨根=!1,this.短小=!1,this.恋慕=!1,this.親愛=!1,this.淫乱=!1,this.娼婦=!1,this.服従=!1,this.隷属=!1,this.醜悪=!1,this.容姿端麗=!1,this.臆病=!1,this.気丈=!1,this.素直=!1,this.反抗的=!1,this.大人しい=!1,this.生意気=!1,this.プライド低い=!1,this.プライド高い=!1,this.ツンデレ=!1,this.マゾ=!1,this.サド=!1,this.自制心=!1,this.無関心=!1,this.感情乏しい=!1,this.保守的=!1,this.好奇心=!1,this.陰気=!1,this.陽気=!1,this.一線越えない=!1,this.目立ちたがり=!1,this.無知=!1,this.貞操無頓着=!1,this.貞操観念=!1,this.抑圧=!1,this.解放=!1,this.抵抗=!1,this.恥薄い=!1,this.恥じらい=!1,this.弱味=!1,this.痛みに強い=!1,this.痛みに弱い=!1,this.濡れにくい=!1,this.濡れやすい=!1,this.習得遅い=!1,this.習得早い=!1,this.器用な指=!1,this.舌使い=!1,this.針さばき=!1,this.猫舌=!1,this.調合知識=!1,this.薬毒耐性=!1,this.おもらし癖=!1,this.両刀=!1,this.即落ち=!1,this.盲信=!1,this.魅惑=!1,this.謎の魅力=!1,this.鼓舞=!1,this.汚れ無視=!1,this.潔癖症=!1}return e([p.savedata,o("design:type",Object)],t.prototype,"処女",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"童貞",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"Ｐ有り",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"Ｖ有り",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"Ｂ有り",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"Ｃ有り",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"小人",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"幼児体型",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"小柄",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"長身",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"巨躯",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"巨人",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"巨乳",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"貧乳",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"爆乳",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"絶壁",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"巨根",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"短小",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"恋慕",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"親愛",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"淫乱",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"娼婦",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"服従",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"隷属",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"醜悪",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"容姿端麗",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"臆病",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"気丈",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"素直",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"反抗的",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"大人しい",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"生意気",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"プライド低い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"プライド高い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"ツンデレ",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"マゾ",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"サド",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"自制心",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"無関心",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"感情乏しい",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"保守的",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"好奇心",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"陰気",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"陽気",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"一線越えない",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"目立ちたがり",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"無知",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"貞操無頓着",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"貞操観念",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"抑圧",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"解放",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"抵抗",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"恥薄い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"恥じらい",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"弱味",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"痛みに強い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"痛みに弱い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"濡れにくい",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"濡れやすい",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"習得遅い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"習得早い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"器用な指",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"舌使い",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"針さばき",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"猫舌",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"調合知識",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"薬毒耐性",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"おもらし癖",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"両刀",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"即落ち",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"盲信",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"魅惑",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"謎の魅力",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"鼓舞",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"汚れ無視",void 0),e([p.savedata,o("design:type",Object)],t.prototype,"潔癖症",void 0),t=e([p.saveclass("traittable")],t)}();exports.TraitTable=y;
},{"../savedata":"y9i9","../charadef":"wrWG","../character":"uvOE","../util/event":"EPnn"}],"ES22":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(exports,"__esModule",{value:!0}),require("./view");var r=require("../util/moduleInitializer");console.log("characterstatus"),exports.initializeModule=r.makeModuleInitializer(Promise.resolve().then(function(){return e(require("./exp"))}),Promise.resolve().then(function(){return e(require("./gauge"))}),Promise.resolve().then(function(){return e(require("./level"))}),Promise.resolve().then(function(){return e(require("./stain"))}),Promise.resolve().then(function(){return e(require("./trait"))}));
},{"./view":"aVf5","../util/moduleInitializer":"bC+/","./exp":"pxMu","./gauge":"s5xr","./level":"bvVd","./stain":"bLjJ","./trait":"hDeS"}],"ytXs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=function(e,t,r){return Math.max(t,Math.min(r,e))};
},{}],"JY5y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expLevels=Object.freeze([0,1,4,20,50,200,500,1e3,2e3,3e3,4e3,5e3,6e3]),exports.gaugeLevels=Object.freeze([0,100,500,3e3,1e4,3e4,6e4,1e5,15e4,25e4]),exports.gaugeToJuelLevels=Object.freeze([0,100,300,500,1500,3e3,6e3,1e4,3e4,6e4,1e5,15e4,25e4]),exports.gaugeToJuelAmounts=Object.freeze([0,1,2,10,20,100,200,500,1e3,2e3,3e3,5e3,8e3]);
},{}],"yiZs":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,r,n,a){var o,i=arguments.length,u=i<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,n):a;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,r,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(u=(i<3?o(u):i>3?o(r,n,u):o(r,n))||u);return i>3&&u&&Object.defineProperty(r,n,u),u},r=this&&this.__metadata||function(t,r){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)},n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function i(e){try{s(n.next(e))}catch(t){o(t)}}function u(e){try{s(n.throw(e))}catch(t){o(t)}}function s(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,u)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(u){o=[6,u],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this;Object.defineProperty(exports,"__esModule",{value:!0});var l=require("../savedata"),c=require("../character"),p=require("./trainloader"),v=require("../characterstatus/gauge"),f=require("../util/clamp"),y=require("../characterstatus/exp"),d=require("../characterstatus/stain"),h=require("../util/tuple"),g=require("./constants"),b=require("../util/event");exports.initializeModule=new b.AsyncEvent,exports.同性判定=function(e,t){var r=e.特性.Ｖ有り,n=t.特性.Ｖ有り;return r&&n?"女":r||n?"異性":"男"},exports.調教行為実行判定=function(e,t,r,n){var a,i,u=function(e,t){0!==t&&n.push([e,t])};u("従順LV"+t.レベル.従順,4*t.レベル.従順),u("マゾっ気LV"+t.レベル.マゾっ気,2*t.レベル.マゾっ気),u("欲望LV"+t.レベル.欲望,3*t.レベル.欲望);var s=exports.同性判定(t,r);"女"===s?(u("レズっ気LV"+t.レベル.レズっ気,3*t.レベル.レズっ気),u("レズ中毒LV"+t.レベル.レズ中毒,3*t.レベル.レズ中毒),u("両刀",t.特性.両刀?10:0),u("好奇心",t.特性.好奇心?7:0),u("保守的",t.特性.保守的?-13:0)):"男"===s?(u("ホモっ気LV"+t.レベル.ホモっ気,3*t.レベル.ホモっ気),u("ゲイ中毒LV"+t.レベル.ゲイ中毒,3*t.レベル.ゲイ中毒),u("両刀",t.特性.両刀?10:0),u("好奇心",t.特性.好奇心?7:0),u("保守的",t.特性.保守的?-13:0)):(u("好奇心",t.特性.好奇心?5:0),u("保守的",t.特性.保守的?-10:0)),u("苦痛刻印LV"+t.レベル.苦痛刻印,5*t.レベル.苦痛刻印);var l=t.特性.プライド高い?4:t.特性.プライド低い?1:2;u("反発刻印LV"+t.レベル.反発刻印,-2*t.レベル.反発刻印*l);var c=f.clamp(exports.getGaugeLevel(t.変動.恭順.value),0,5);u("恭順LV"+c,3*c);var p=f.clamp(exports.getGaugeLevel(t.変動.恐怖.value),0,5);u("恐怖LV"+p,3*p),u("服従",t.特性.服従?10:0),u("隷属",t.特性.隷属?20:0),t.特性.服従||u("反抗的",t.特性.反抗的?-5:0),u("気丈",t.特性.気丈?-5:0),u("素直",t.特性.素直?5:0),u("プライド高い",t.特性.プライド高い?-15:0),u("プライド低い",t.特性.プライド低い?5:0),u("目立ちたがり",t.特性.目立ちたがり?2:0),u("抑圧",t.特性.抑圧?-10:0),u("抵抗",t.特性.抵抗?-10:0),u("弱味",t.特性.弱味?12:0),u("即落ち",t.特性.即落ち?10:0),u("盲信",t.特性.盲信?8:0);u("調教者のサドっ気",2*r.レベル.サドっ気),u("調教者の魅惑",r.特性.魅惑?6:0),u("調教者の謎の魅力",r.特性.謎の魅力?8:0),u("調教者のサド",r.特性.サド?3:0);try{for(var v=o(e.players),y=v.next();!y.done;y=v.next()){var d=y.value;d!==r&&u(d.呼び名+"の鼓舞",r.特性.鼓舞?3:0)}}catch(O){a={error:O}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}var h=exports.getGaugeLevel(t.変動.酩酊.value);u("酩酊LV"+h,4*h);var g=t.関係取得(r);if(g){var b=exports.相性計算(g.相性),x=[-10,-6,-3,0,3,6,10][b];u(exports.相性呼び名[b],x)}},exports.相性呼び名=h.tuple("相性最悪","相性悪い","相性いまいち","相性普通","相性ややよい","相性よい","相性最高"),exports.相性計算=function(e){return e<-70?0:e<-30?1:e<0?2:0==e?3:e<30?4:e<70?5:6},exports.KeyOfTrainGauge=h.tuple("勃起","射精","精力","酩酊","快Ｃ","快Ｐ","快Ｖ","快Ａ","快Ｂ","快Ｍ","潤滑","恭順","欲情","屈服","習得","恥情","苦痛","恐怖","憤慨","不快","抑鬱"),exports.initializeModule.addListener(function(){return n(s,void 0,void 0,function(){return a(this,function(e){return v.KeyOfGaugeTable.push.apply(v.KeyOfGaugeTable,u(exports.KeyOfTrainGauge)),v.GaugeTable.extensionInitializer.push(function(e){var t,r;try{for(var n=o(exports.KeyOfTrainGauge),a=n.next();!a.done;a=n.next()){e[a.value]=new v.Gauge}}catch(i){t={error:i}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}),[2]})})}),exports.getExpLevel=function(e){for(var t=0;t<g.expLevels.length;t++)if(e<=g.expLevels[t])return t;return g.gaugeLevels.length},exports.getGaugeLevel=function(e){for(var t=0;t<g.gaugeLevels.length;t++)if(e<=g.gaugeLevels[t])return t;return g.gaugeLevels.length},exports.gaugeToJuel=function(e){for(var t=0;t<g.gaugeToJuelLevels.length;t++)if(e<=g.gaugeToJuelLevels[t])return g.gaugeToJuelAmounts[t];return e/20|0};var x=function(e){return e<0?1:e>=0&&e<=5?1+.7*e:e>=6&&e<=9?3+.4*e:e>=10&&e<=15?4.5+.2*e:e>=16&&e<=19?7+.1*e:9},O=function(e){return e<0?.25:e>=0&&e<=5?.25+.07*e:e>=6&&e<=9?.45+.03*e:e>=10&&e<=15?.6+.02*e:e>=16&&e<=19?.8+.01*e:1},w=function(e){return e<0?0:e>=0&&e<=5?0+.7*e:e>=6&&e<=9?2.25+.4*e:e>=10&&e<=15?4+.2*e:e>=16&&e<=19?6.75+.1*e:9},T=function(e,t){return t[f.clamp(e,0,t.length)]};exports.autoFixTrainSources=function(e){e.補正済み対象者ソース=exports.autoFixSources(e,e.対象者ソース,e.target),e.補正済み実行者ソース=exports.autoFixSources(e,e.実行者ソース,e.player)};var j=function(e,t,r){return e.player===t?e.target:e.target===t?e.player:r};exports.autoFixSources=function(e,t,r){var n,a,i=new _;try{for(var u=o(exports.KeyOfSourceTable),s=u.next();!s.done;s=u.next()){var l=s.value;i[l]=t[l]}}catch(w){n={error:w}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}var c=j(e,r,r);if(e.commander===r?i.逸脱=0:i.消耗*=2,c.特性.サド){i.被虐+=t.苦痛*(r.特性.小人?.75:1)*1.5}if(c.レベル.サドっ気>0);var p=exports.getGaugeLevel(r.変動.潤滑.value),v=T(p,[.1,.3,.4,.75,.9,1]);i.快Ｃ=t.快Ｃ*x(r.レベル.Ｃ感覚);var y=exports.getExpLevel(r.経験.Ｖ.快楽),d=T(y,[.3,.5,.8,1,1.2,1.5]);i.快Ｖ=t.快Ｖ*x(r.レベル.Ｖ感覚)*d*v,i.快Ｐ=t.快Ｐ*x(r.レベル.Ｐ感覚),i.快Ｂ=t.快Ｂ*x(r.レベル.Ｂ感覚),i.快Ａ=t.快Ａ*x(r.レベル.Ａ感覚),i.快Ｍ=t.快Ｍ*x(r.レベル.Ｍ感覚);var h,g=f.clamp(exports.getGaugeLevel(r.変動.苦痛.value),0,10);i.苦痛=i.苦痛*([1,1.5,2,2.5,3,3.5,4,4.5,5,5.5][h=g]||h/2+2);var b=r.関係取得(c);if(b){if(b.親愛?(i.屈従*=3,i.恭順*=3,i.親交*=3,i.情愛*=3,i.鬱屈*=.3,i.恐怖*=.3,i.逸脱*=.3,i.不潔*=.2):b.恋慕&&(i.屈従*=2,i.恭順*=2,i.親交*=2,i.情愛*=2,i.鬱屈*=.5,i.恐怖*=.5,i.逸脱*=.5,i.不潔*=.5),b.娼婦?(i.屈従*=1.5,i.恭順*=1.5,i.情愛*=1.5,i.性行動*=1.5,i.性的*=1.5,i.不潔*=.6,i.鬱屈*=.6,i.逸脱*=.3):b.淫乱&&(i.屈従*=1.2,i.恭順*=1.2,i.情愛*=1.2,i.性行動*=1.2,i.性的*=1.2,i.不潔*=.8,i.鬱屈*=.8,i.逸脱*=.4),b.隷属?(i.屈従*=5,i.恭順*=.2,i.親交*=.25,i.情愛*=.25,i.恐怖*=3,i.逸脱*=.25,i.鬱屈*=.25,i.不潔*=.25):b.服従&&(i.屈従*=3,i.恭順*=.5,i.親交*=.5,i.情愛*=.5,i.恐怖*=1.5,i.逸脱*=.5,i.鬱屈*=.5,i.不潔*=.5),0!==b.相性){var O=f.clamp(1-b.相性,1e-5,1e4);i.欲情*=O,i.屈従*=O,i.恥辱*=O,i.情愛*=O,i.親交*=O,i.恭順*=O,i.逸脱/=O,i.鬱屈/=O,i.不潔/=O}if(r.変動.気力.value<=0){O=.7;i.欲情*=O,i.屈従*=O,i.恥辱*=O,i.情愛*=O,i.親交*=O,i.恭順*=O,i.恐怖*=O,i.鬱屈*=O,i.疲労*=1.5}}return i},exports.sourceToGaugeChanges=function(e,t){var r=new v.GaugeTable;r.体力.value-=e.疲労,r.気力.value-=e.消耗;var n=exports.getGaugeLevel(t.変動.欲情.value),a=T(n,[.8,.8,.8,1,1,1.2,1.2,1.4,1.4,1.6]);r.快Ｃ.value+=e.快Ｃ*a,r.欲情.value+=e.快Ｃ*a*O(t.レベル.欲望);n=exports.getGaugeLevel(t.変動.欲情.value),a=T(n,[.8,.8,.8,1,1,1.2,1.2,1.4,1.4,1.6]);r.快Ｂ.value+=e.快Ｂ*a,r.欲情.value+=e.快Ｂ*a*O(t.レベル.欲望);n=exports.getGaugeLevel(t.変動.欲情.value),a=T(n,[.8,.8,.8,1,1,1.2,1.2,1.4,1.4,1.6]);var o=e.快Ｐ*a;r.快Ｐ.value+=o,r.欲情.value+=o*O(t.レベル.欲望),r.射精.value+=o*O(t.レベル.欲望);var i=exports.getGaugeLevel(t.変動.欲情.value),u=(a=T(i,[.6,.6,.8,.8,1,1,1.2,1.2,1.5]),t.特性.小人?.8:1),s=t.特性.小人?1.2:1;r.快Ｖ.value+=e.快Ｖ*a*u,r.欲情.value+=e.快Ｖ*O(t.レベル.欲望)*s;i=exports.getGaugeLevel(t.変動.欲情.value),a=T(i,[.6,.6,.8,.8,1,1,1.2,1.2,1.5]),u=t.特性.小人?.8:1,s=t.特性.小人?1.2:1;r.快Ａ.value+=e.快Ａ*a*u,r.欲情.value+=e.快Ａ*O(t.レベル.欲望)*s;n=exports.getGaugeLevel(t.変動.欲情.value),a=T(n,[.8,.8,.8,1,1,1.2,1.2,1.4,1.4,1.6]);r.快Ｍ.value+=e.快Ｍ*a,r.欲情.value+=e.快Ｍ*a*O(t.レベル.欲望);var l;r.恭順.value+=e.情愛*([.1,.5,1,1.5,2,2.5,3,3.5,4,5][l=t.レベル.従順]||l/2+1);var c=function(e){return[.1,.4,.8,1.2,1.6,2,2.4,2.8,3.2,3.6][e]||e/2-1};r.欲情.value+=e.情愛*c(t.レベル.欲望);r.習得.value+=e.性行動*function(e){return[.6,1.2,1.8,2.4,3,3.6,4.2,4.8,5.4,6][e]||e/2+2}(t.レベル.技巧)*function(e){return[.6,.8,1,1.2,1.4,1.7,2,2.4,2.8,4][e]||e/2}(t.レベル.奉仕精神);r.恭順.value+=e.達成*function(e){return[.5,1,1.5,2,2.5,3,3.5,4,4.5,5][e]||e/2+1}(t.レベル.従順)*function(e){return[.1,.5,1,1.5,2,2.5,3,3.5,4,4.5][e]||e/2+1}(t.レベル.奉仕精神);var p=t.変動.体力.value/t.変動.体力.max,y=f.clamp(Math.floor(10*p),0,10),d=function(e){return[0,.1,.2,.3,.45,.6,.75,.9,1.2,1.5][e]||e/2-2};r.苦痛.value+=e.苦痛*function(e){return[2.5,2.5,2.5,2.5,2.2,2,1.8,1.6,1.4,1.2,1][f.clamp(e,0,10)]}(y)*(t.特性.小人?2:1)*(t.特性.痛みに弱い?1.5:1),r.欲情.value+=e.苦痛*d(t.レベル.マゾっ気)*(t.特性.小人?.75:1),r.恐怖.value+=e.苦痛*function(e){return[1,1.2,1.5,2][e]||1}(t.レベル.苦痛刻印)*(t.特性.臆病?2:1),r.欲情.value+=e.被虐*d(t.レベル.マゾっ気);r.恐怖.value+=e.恐怖*function(e){return[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5][e]||e/2+2}(t.レベル.従順),r.屈服.value+=e.恐怖;r.恭順.value+=e.中毒*function(e){return[.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.2][e]||e/4+.5}(t.レベル.欲望),r.欲情.value+=e.中毒*function(e){return[.5,.7,.9,1.1,1.3,1.5,1.7,1.9,2.1,2.3][e]||e/4+.5}(t.レベル.欲望),r.欲情.value+=e.欲情*c(t.レベル.欲望);r.恭順.value+=e.恭順*function(e){return[.8,1.2,1.6,2,2.4,2.8,3.2,3.6,4,4.4][e]||e/2+1}(t.レベル.従順)*function(e){return[1,1.3,1.6,1.9,2.2,2.5,2.8,3.1,3.4,3.7][e]||e/2+1}(t.レベル.欲望);var h=function(e){return[1,.9,.8,.7,.6][e]||1},g=exports.getGaugeLevel(t.変動.恥情.value);r.欲情.value+=e.露出*function(e){return[0,.1,.2,.4,.6,.8,1,1.2,1.4,1.6][e]||1}(t.レベル.露出癖),r.恥情.value+=e.露出*h(g),r.屈服.value+=e.露出*h(g)*.1;var b=function(e){return[.5,1,1.5,2.5,3,3.5,4,4.5,5,5.5,6][e]||1};r.屈服.value+=e.屈従*b(t.レベル.従順)*b(t.レベル.奉仕精神);var x=(t.特性.汚れ無視?.5:1)*(t.特性.潔癖症?2:1);r.不快.value+=e.不潔*function(e){return[1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0][e]||1}(t.レベル.従順)*x;var w=function(e){return[1,.8,.6,.4,.3,.2,.1,.08,.06,.04,0][e]||1};r.抑鬱.value+=e.鬱屈*w(t.レベル.従順)*w(t.レベル.欲望);var j=(t.特性.好奇心?.8:1)*(t.特性.保守的?2:1);return r.憤慨.value+=e.逸脱*j*w(t.レベル.従順)*function(e){return[1,.95,.9,.85,.8,.75,.7,.65,.6,.55,.5][e]||1}(t.レベル.マゾっ気),r};var m=function(e,t){var r,n,a=h.tuple.apply(void 0,u(["体力","気力"],exports.KeyOfTrainGauge));try{for(var i=o(a),s=i.next();!s.done;s=i.next()){var l=s.value,c=e[l];c.value=f.clamp(c.value+t[l].value,c.min,c.max)}}catch(p){r={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}};exports.KeyOfTrainContextAttribute=h.tuple("無自覚");var L=function(){function e(){this.players=[],this.targets=[],this.exitTrain=!1,this.attributes=new R}return e.prototype.doTrain=function(){return n(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.prepareTrain()];case 1:e.sent(),e.label=2;case 2:return[4,this.stepTrain()];case 3:return e.sent()?[3,2]:[3,4];case 4:return[4,this.finishTrain()];case 5:return e.sent(),[2]}})})},e.prototype.prepareTrain=function(){return n(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},e.prototype.stepTrain=function(){return n(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,p.getTrainList()];case 1:return e.sent(),[2,this.exitTrain]}})})},e.prototype.finishTrain=function(){return n(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},e.prototype.playersName=function(){return 0===this.players.length?"<誰もいない>":this.players.length>1?this.players[0].呼び名+"達":""+this.players[0].呼び名},e.prototype.targetsName=function(){return 0===this.targets.length?"<誰もいない>":this.targets.length>1?this.targets[0].呼び名+"達":""+this.targets[0].呼び名},e}();exports.Train=L;var S=function(){function e(e,t,r){this.命令者ソース=new _,this.補正済み命令者ソース=new _,this.commanderExp=new y.ExpTable,this.commanderStain=new d.StainTable,this.対象者ソース=new _,this.補正済み対象者ソース=new _,this.targetExp=new y.ExpTable,this.targetStain=new d.StainTable,this.実行者ソース=new _,this.補正済み実行者ソース=new _,this.playerExp=new y.ExpTable,this.playerStain=new d.StainTable,this.attributes=new R,this.bodyTouch=new G,this.player=t,this.target=e,this.commander=r}var n,a,o;return e.prototype.属性追加=function(e){this.attributes.add(e)},e.prototype.接触追加=function(e,t,r,n){this.bodyTouch.set(e,t,r,n)},e=t([l.saveclass("trainstatus"),r("design:paramtypes",["function"==typeof(n=void 0!==c.CharacterReference&&c.CharacterReference)?n:Object,"function"==typeof(a=void 0!==c.CharacterReference&&c.CharacterReference)?a:Object,"function"==typeof(o=void 0!==c.CharacterReference&&c.CharacterReference)?o:Object])],e)}();exports.TrainStatus=S,exports.KeyOfTouchPart=h.tuple("Ａ","Ｖ","Ｂ","Ｍ","Ｐ","Ｃ","手","腋","顔","髪","腹","太もも","割れ目","尻","子宮内");var G=function(){function e(){this.data=[]}return e.prototype.set=function(e,t,r,n){this.data.push([e,t,r,n])},e.prototype.getList=function(e,t){var r,n,a=[];try{for(var u=o(this.data),s=u.next();!s.done;s=u.next()){var l=i(s.value,4),c=l[0],p=l[1],v=l[2],f=l[3];c===e&&p===t&&a.push([v,f]),v===e&&f===t&&a.push([c,p])}}catch(y){r={error:y}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return a},e.prototype.isTouchedBoth=function(e,t,r,n){var a,u;try{for(var s=o(this.data),l=s.next();!l.done;l=s.next()){var c=i(l.value,4),p=c[0],v=c[1],f=c[2],y=c[3];if(p===e&&v===t&&f===r&&y===n||p===r&&v===n&&f===e&&y===t)return!0}}catch(d){a={error:d}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.isTouched=function(e,t){var r,n;try{for(var a=o(this.data),u=a.next();!u.done;u=a.next()){var s=i(u.value,4),l=s[0],c=s[1],p=s[2],v=s[3];if(l===e&&c===t||p===e&&v===t)return!0}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},e}();exports.TouchStatus=G,exports.KeyOfSourceTable=h.tuple("疲労","消耗","快Ｃ","快Ｐ","快Ｖ","快Ａ","快Ｂ","快Ｍ","快Ｕ","液体","情愛","性行動","達成","苦痛","被虐","恐怖","欲情","恭順","露出","屈従","歓楽","征服","受動","性的","不潔","鬱屈","逸脱","誘惑","恥辱","挑発","奉仕","強要","加虐","親交");var _=function(){function e(){this.疲労=0,this.消耗=0,this.快Ｃ=0,this.快Ｐ=0,this.快Ｖ=0,this.快Ａ=0,this.快Ｂ=0,this.快Ｍ=0,this.快Ｕ=0,this.液体=0,this.情愛=0,this.性行動=0,this.達成=0,this.苦痛=0,this.被虐=0,this.恐怖=0,this.欲情=0,this.恭順=0,this.露出=0,this.屈従=0,this.歓楽=0,this.征服=0,this.受動=0,this.性的=0,this.不潔=0,this.鬱屈=0,this.逸脱=0,this.誘惑=0,this.恥辱=0,this.挑発=0,this.奉仕=0,this.強要=0,this.加虐=0,this.中毒=0,this.親交=0}return t([l.savedata,r("design:type",Object)],e.prototype,"疲労",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"消耗",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｃ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｐ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｖ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ａ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｂ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｍ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"快Ｕ",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"液体",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"情愛",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"性行動",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"達成",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"苦痛",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"被虐",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"恐怖",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"欲情",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"恭順",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"露出",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"屈従",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"歓楽",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"征服",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"受動",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"性的",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"不潔",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"鬱屈",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"逸脱",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"誘惑",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"恥辱",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"挑発",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"奉仕",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"強要",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"加虐",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"中毒",void 0),t([l.savedata,r("design:type",Object)],e.prototype,"親交",void 0),e=t([l.saveclass("sourcetable")],e)}();exports.SourceTable=_;var R=function(){function e(){this.container=new Set}return e.prototype.add=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var a=o(r),i=a.next();!i.done;i=a.next()){var u=i.value;this.container.add(u)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}},e.prototype.has=function(e){return this.container.has(e)},e.prototype.values=function(){return u(this.container.keys())},e}();exports.Attributes=R,exports.KeyOfTrainAttribute=h.tuple("調教","エロ","Ａ","Ｖ","Ｂ","Ｍ","Ｐ","Ｃ","性交","キス","妊娠","前戯","愛撫","日常","会話");var V=function(){return function(){this.ID=-1,this.名前="＜未設定＞",this.属性=new R,this.発動条件=function(e,t,r,n){return!0},this.許容判定=function(e,t,r,n,a){a.push(["未設定",100])},this.内容取得=function(e,t,r,n){return new S(t,r,n)}}}();exports.TrainDef=V;
},{"../savedata":"y9i9","../character":"uvOE","./trainloader":"Zib+","../characterstatus/gauge":"s5xr","../util/clamp":"ytXs","../characterstatus/exp":"pxMu","../characterstatus/stain":"bLjJ","../util/tuple":"ny5r","./constants":"JY5y","../util/event":"EPnn"}],"UCer":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=new e.TrainDef;exports.default=r,r.ID=101,r.名前="会話",r.属性.add("日常","会話"),r.発動条件=function(e,r,t,n){return!0},r.許容判定=function(t,n,u,a,i){i.push([r.名前,5]),e.調教行為実行判定(t,n,u,i)},r.内容取得=function(r,t,n,u){var a=new e.TrainStatus(t,n,u);return a.命令者ソース.疲労=5,a.命令者ソース.消耗=5,a.命令者ソース.征服=10,a.実行者ソース.疲労=5,a.実行者ソース.消耗=20,a.実行者ソース.情愛=50,a.実行者ソース.親交=100,a.対象者ソース.疲労=5,a.対象者ソース.消耗=20,a.対象者ソース.情愛=50,a.対象者ソース.親交=100,a};
},{"../train":"yiZs"}],"pcXG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../train"),t=new r.TrainDef;exports.default=t,t.ID=102,t.名前="スキンシップ",t.属性.add("日常"),t.発動条件=function(r,t,e,n){return!0},t.許容判定=function(e,n,a,u,o){o.push([t.名前,5]),r.調教行為実行判定(e,n,a,o)},t.内容取得=function(t,e,n,a){var u=new r.TrainStatus(e,n,a);return u.命令者ソース.疲労=5,u.命令者ソース.消耗=5,u.命令者ソース.征服=30,u.実行者ソース.疲労=20,u.実行者ソース.消耗=25,u.実行者ソース.情愛=100,u.実行者ソース.性行動=50,u.実行者ソース.達成=100,u.実行者ソース.親交=100,n.特性.Ｐ有り&&Math.random()>.75&&(u.実行者ソース.快Ｐ=50,u.実行者ソース.性的+=20,u.実行者ソース.露出+=20),n.特性.Ｂ有り&&Math.random()>.5&&(u.実行者ソース.快Ｂ=50,u.実行者ソース.性的+=20,u.実行者ソース.露出+=20),u.対象者ソース.疲労=25,u.対象者ソース.消耗=20,u.対象者ソース.情愛=150,u.対象者ソース.性行動=50,u.対象者ソース.達成=100,u.対象者ソース.親交=100,e.特性.Ｐ有り&&Math.random()>.75&&(u.対象者ソース.快Ｐ=50,u.対象者ソース.性的+=20,u.対象者ソース.露出+=20),e.特性.Ｂ有り&&Math.random()>.5&&(u.対象者ソース.快Ｂ=50,u.対象者ソース.性的+=20,u.対象者ソース.露出+=20),u};
},{"../train":"yiZs"}],"v5HJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=new e.TrainDef;exports.default=r,r.ID=1,r.名前="愛撫",r.属性.add("エロ","Ｃ","Ｂ","愛撫","前戯"),r.発動条件=function(e,r,t,n){return!0},r.許容判定=function(t,n,u,a,i){i.push([r.名前,-20]),e.調教行為実行判定(t,n,u,i)},r.内容取得=function(r,t,n,u){var a=new e.TrainStatus(t,n,u);return a.命令者ソース.疲労=5,a.命令者ソース.消耗=5,a.命令者ソース.征服=30,a.実行者ソース.疲労=20,a.実行者ソース.消耗=20,a.実行者ソース.性行動=30,a.実行者ソース.達成=30,a.実行者ソース.奉仕=30,a.実行者ソース.不潔=30,a.実行者ソース.逸脱=20,a.実行者ソース.性的=30,a.対象者ソース.疲労=20,a.対象者ソース.消耗=20,a.接触追加(t,"手",n,"手"),t.特性.Ｃ有り&&(a.対象者ソース.快Ｃ=30,a.接触追加(t,"Ｃ",n,"手")),t.特性.Ｐ有り&&(a.対象者ソース.快Ｐ=30,a.接触追加(t,"Ｐ",n,"手")),t.特性.Ｂ有り&&(a.対象者ソース.快Ｂ=30,a.接触追加(t,"Ｂ",n,"手")),a.対象者ソース.情愛=30,a.対象者ソース.性行動=30,a.対象者ソース.露出=30,a.対象者ソース.逸脱=20,a.対象者ソース.受動=20,a.対象者ソース.性的=20,a};
},{"../train":"yiZs"}],"a6ZF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.舌使い=function(e){return 1},exports.指使い=function(e){return 1};
},{}],"VSI0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=require("../traintraitcalc"),t=new e.TrainDef;exports.default=t,t.ID=2,t.名前="クンニ",t.属性.add("エロ","Ｃ","愛撫","前戯"),t.発動条件=function(e,r,t,n){return r.特性.Ｃ有り},t.許容判定=function(r,n,u,a,i){i.push([t.名前,-25]),e.調教行為実行判定(r,n,u,i)},t.内容取得=function(t,n,u,a){var i=new e.TrainStatus(n,u,a);return i.命令者ソース.疲労=5,i.命令者ソース.消耗=5,i.命令者ソース.征服=30,i.実行者ソース.疲労=25,i.実行者ソース.消耗=20,i.実行者ソース.性行動=40,i.実行者ソース.達成=40,i.実行者ソース.奉仕=40,i.実行者ソース.不潔=40,i.実行者ソース.逸脱=30,i.実行者ソース.性的=40,i.対象者ソース.疲労=20,i.対象者ソース.消耗=20,i.対象者ソース.快Ｃ=80*r.舌使い(u),i.接触追加(n,"Ｃ",u,"Ｍ"),i.対象者ソース.液体=40,i.対象者ソース.露出=40,i.対象者ソース.逸脱=30,i.対象者ソース.受動=20,i.対象者ソース.性的=30,i};
},{"../train":"yiZs","../traintraitcalc":"a6ZF"}],"FI+A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=new e.TrainDef;exports.default=r,r.ID=10,r.名前="指挿れ",r.属性.add("エロ","Ｖ","愛撫","前戯"),r.発動条件=function(e,r,t,n){return r.特性.Ｖ有り},r.許容判定=function(t,n,u,a,i){i.push([r.名前,-25]),e.調教行為実行判定(t,n,u,i)},r.内容取得=function(r,t,n,u){var a=new e.TrainStatus(t,n,u);return a.命令者ソース.疲労=5,a.命令者ソース.消耗=5,a.命令者ソース.征服=30,a.実行者ソース.疲労=30,a.実行者ソース.消耗=20,a.実行者ソース.性行動=40,a.実行者ソース.達成=40,a.実行者ソース.奉仕=40,a.実行者ソース.不潔=40,a.実行者ソース.逸脱=30,a.実行者ソース.性的=40,a.対象者ソース.疲労=20,a.対象者ソース.消耗=30,a.対象者ソース.快Ｖ=50,a.接触追加(t,"Ｖ",n,"手"),a.対象者ソース.露出=40,a.対象者ソース.逸脱=30,a.対象者ソース.受動=20,a.対象者ソース.性的=30,a};
},{"../train":"yiZs"}],"4Li3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=new e.TrainDef;exports.default=r,r.ID=3,r.名前="胸揉み",r.属性.add("エロ","Ｂ","愛撫","前戯"),r.発動条件=function(e,r,t,n){return r&&r.特性.Ｂ有り},r.許容判定=function(t,n,u,a,i){i.push([r.名前,-15]),e.調教行為実行判定(t,n,u,i)},r.内容取得=function(r,t,n,u){var a=new e.TrainStatus(t,n,u);return a.命令者ソース.疲労=5,a.命令者ソース.消耗=5,a.命令者ソース.征服=30,a.実行者ソース.疲労=25,a.実行者ソース.消耗=20,a.実行者ソース.性行動=40,a.実行者ソース.征服=30,a.実行者ソース.達成=40,a.実行者ソース.奉仕=40,a.実行者ソース.逸脱=30,a.実行者ソース.性的=40,a.対象者ソース.疲労=20,a.対象者ソース.消耗=20,t.特性.Ｂ有り&&(a.対象者ソース.快Ｂ=80,a.接触追加(t,"Ｂ",n,"手")),a.対象者ソース.露出=40,a.対象者ソース.逸脱=30,a.対象者ソース.受動=20,a.対象者ソース.性的=30,a};
},{"../train":"yiZs"}],"PsEU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=new e.TrainDef;exports.default=r,r.ID=11,r.名前="正常位",r.属性.add("エロ","Ｖ","性交","妊娠"),r.発動条件=function(e,r,t,n){return!!t.特性.Ｐ有り&&!!r.特性.Ｖ有り},r.許容判定=function(t,n,u,a,i){i.push([r.名前,-55]),e.調教行為実行判定(t,n,u,i)},r.内容取得=function(r,t,n,u){var a=new e.TrainStatus(t,n,u);return a.命令者ソース.疲労=5,a.命令者ソース.消耗=5,a.命令者ソース.征服=200,a.実行者ソース.疲労=85,a.実行者ソース.消耗=50,a.実行者ソース.性行動=400,a.実行者ソース.征服=200,a.実行者ソース.達成=300,a.実行者ソース.奉仕=300,a.実行者ソース.不潔=100,a.実行者ソース.逸脱=100,a.実行者ソース.性的=300,a.実行者ソース.快Ｐ=500,a.対象者ソース.疲労=70,a.対象者ソース.消耗=60,a.対象者ソース.快Ｖ=500,a.接触追加(t,"Ｖ",n,"Ｐ"),a.対象者ソース.露出=50,a.対象者ソース.逸脱=200,a.対象者ソース.情愛=500,a.対象者ソース.苦痛=500,a.対象者ソース.受動=20,a.対象者ソース.性的=300,a};
},{"../train":"yiZs"}],"UHX/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=require("../traintraitcalc"),t=new e.TrainDef;exports.default=t,t.ID=80,t.名前="手淫",t.属性.add("エロ","Ｐ","愛撫","前戯"),t.発動条件=function(e,r,t,n){return r.特性.Ｐ有り},t.許容判定=function(r,n,u,a,i){i.push([t.名前,-25]),e.調教行為実行判定(r,n,u,i)},t.内容取得=function(t,n,u,a){var i=new e.TrainStatus(n,u,a);return i.命令者ソース.疲労=5,i.命令者ソース.消耗=5,i.命令者ソース.征服=30,i.実行者ソース.疲労=10,i.実行者ソース.消耗=50,i.実行者ソース.情愛=50,i.実行者ソース.性行動=250,i.実行者ソース.達成=50,i.実行者ソース.屈従=350,i.実行者ソース.奉仕=50,i.実行者ソース.不潔=60,i.実行者ソース.逸脱=100,i.実行者ソース.性的=100,i.対象者ソース.疲労=10,i.対象者ソース.消耗=40,i.対象者ソース.快Ｐ=80*r.指使い(u),i.接触追加(n,"Ｐ",u,"手"),i.対象者ソース.露出=40,i.対象者ソース.逸脱=30,i.対象者ソース.受動=30,i.対象者ソース.性的=30,i};
},{"../train":"yiZs","../traintraitcalc":"a6ZF"}],"DJVy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../train"),r=require("../traintraitcalc"),t=new e.TrainDef;exports.default=t,t.ID=81,t.名前="フェラチオ",t.属性.add("エロ","Ｐ","愛撫","前戯"),t.発動条件=function(e,r,t,n){return r.特性.Ｐ有り},t.許容判定=function(r,n,u,a,i){i.push([t.名前,-25]),e.調教行為実行判定(r,n,u,i)},t.内容取得=function(t,n,u,a){var i=new e.TrainStatus(n,u,a);return i.命令者ソース.疲労=5,i.命令者ソース.消耗=5,i.命令者ソース.征服=30,i.実行者ソース.疲労=10,i.実行者ソース.消耗=50,i.実行者ソース.情愛=100,i.実行者ソース.性行動=300,i.実行者ソース.達成=150,i.実行者ソース.屈従=350,i.実行者ソース.奉仕=100,i.実行者ソース.不潔=60,i.実行者ソース.逸脱=200,i.実行者ソース.性的=200,i.対象者ソース.疲労=10,i.対象者ソース.消耗=40,i.対象者ソース.快Ｐ=120*r.舌使い(u),i.接触追加(n,"Ｐ",u,"Ｍ"),i.対象者ソース.露出=100,i.対象者ソース.逸脱=50,i.対象者ソース.受動=50,i.対象者ソース.性的=80,i};
},{"../train":"yiZs","../traintraitcalc":"a6ZF"}],"lEwc":[function(require,module,exports) {
"use strict";var r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var n in r)Object.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.default=r,e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.trainList=[Promise.resolve().then(function(){return r(require("./train_会話"))}),Promise.resolve().then(function(){return r(require("./train_スキンシップ"))}),Promise.resolve().then(function(){return r(require("./train_愛撫"))}),Promise.resolve().then(function(){return r(require("./train_クンニ"))}),Promise.resolve().then(function(){return r(require("./train_指挿れ"))}),Promise.resolve().then(function(){return r(require("./train_胸揉み"))}),Promise.resolve().then(function(){return r(require("./train_正常位"))}),Promise.resolve().then(function(){return r(require("./train_手淫"))}),Promise.resolve().then(function(){return r(require("./train_フェラチオ"))})];
},{"./train_会話":"UCer","./train_スキンシップ":"pcXG","./train_愛撫":"v5HJ","./train_クンニ":"VSI0","./train_指挿れ":"FI+A","./train_胸揉み":"4Li3","./train_正常位":"PsEU","./train_手淫":"UHX/","./train_フェラチオ":"DJVy"}],"Zib+":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function i(e){try{l(n.next(e))}catch(t){o(t)}}function u(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,u)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(u){o=[6,u],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},n=this;Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./trainlist"),o=void 0;exports.getTrainList=function(){return e(n,void 0,void 0,function(){var e,n,i,u,l,c,s,f,h;return t(this,function(t){switch(t.label){case 0:if(o)return[2,o];i=[],t.label=1;case 1:t.trys.push([1,6,7,8]),u=r(a.trainList),l=u.next(),t.label=2;case 2:return l.done?[3,5]:(c=l.value,f=(s=i).push,[4,c]);case 3:f.apply(s,[t.sent().default]),t.label=4;case 4:return l=u.next(),[3,2];case 5:return[3,8];case 6:return h=t.sent(),e={error:h},[3,8];case 7:try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}return[7];case 8:return o=i,[2,i]}})})};
},{"./trainlist":"lEwc"}],"w0ou":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var r=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(a,i){function o(e){try{u(n.next(e))}catch(r){i(r)}}function s(e){try{u(n.throw(e))}catch(r){i(r)}}function u(e){e.done?a(e.value):new t(function(r){r(e.value)}).then(o,s)}u((n=n.apply(e,r||[])).next())})},t=this&&this.__generator||function(e,r){var t,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=r.call(e,o)}catch(s){i=[6,s],n=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},n=this&&this.__values||function(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}},a=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,a,i=t.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},i=this&&this.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(a(arguments[r]));return e},o=this;Object.defineProperty(exports,"__esModule",{value:!0});var s=require("./train"),u=require("../io"),l=require("./trainloader"),c=require("../game"),f=require("../characterstatus/view"),h=require("../util/tuple"),p=require("../util/event"),y=function(){function o(e,r){if(this.game=e,this.commanderIDs=h.getOrDefault(r,"commanderID",[]),this.playerIDs=h.getOrDefault(r,"playerIDs",[]),this.targetIDs=h.getOrDefault(r,"targetIDs",[]),!this.playerIDs||0===this.playerIDs.length)throw new Error("playerIDsが指定されていない");if(!this.targetIDs||0===this.targetIDs.length)throw new Error("targetIDsが指定されていない")}return o.prototype.beginScene=function(){return r(this,void 0,void 0,function(){var r,a,i,o,c,f,h,p;return t(this,function(y){switch(y.label){case 0:if(1!==this.playerIDs.length)throw new Error("playerは一人以外は未実装");if(1!==this.targetIDs.length)throw new Error("targetは一人以外は未実装");return r=new s.Train,a=this.game.characters.tryGet(this.playerIDs[0]),i=this.game.characters.tryGet(this.targetIDs[0]),a&&i?[3,2]:(o="",a||(o+=" [game.playerCharacterID]"),i||(o+=" [game.variables.調教対象]"),o+="が無効なので調教画面に入れません",[4,u.io.printError(o.trim())]);case 1:return y.sent(),this.game.setDefaultFlow(),[2];case 2:return r.targets.push(i),r.players.push(a),[4,l.getTrainList()];case 3:c=y.sent(),f=function(){var e,o,l,f,p,y,v,g,d,w,b,m,x,D,I,S,T,_,G,M,q,E,k;return t(this,function(t){switch(t.label){case 0:return(p=h.checkTrainable(r))?[4,u.io.drawLine()]:[3,4];case 1:return t.sent(),[4,u.io.printl(p+"ので自動的に調教を終了します")];case 2:return t.sent(),[4,u.io.wait()];case 3:return t.sent(),h.game.setDefaultFlow(),[2,{value:void 0}];case 4:return[4,u.io.drawLine()];case 5:return t.sent(),[4,u.io.printl("調教者: "+a.呼び名)];case 6:return t.sent(),[4,h.viewGauge(a)];case 7:return t.sent(),[4,u.io.printl("調教対象: "+i.呼び名)];case 8:return t.sent(),[4,h.viewGauge(i)];case 9:return t.sent(),[4,u.io.drawLine()];case 10:t.sent(),t.label=11;case 11:t.trys.push([11,16,17,18]),y=n(c),v=y.next(),t.label=12;case 12:return v.done?[3,15]:(g=v.value,[4,u.io.printc("["+g.ID+"] "+g.名前+"する")]);case 13:t.sent(),t.label=14;case 14:return v=y.next(),[3,12];case 15:return[3,18];case 16:return d=t.sent(),e={error:d},[3,18];case 17:try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}return[7];case 18:t.trys.push([18,23,24,25]),w=n(c),b=w.next(),t.label=19;case 19:return b.done?[3,22]:(m=b.value,[4,u.io.printc("["+(m.ID+500)+"] "+m.名前+"させる")]);case 20:t.sent(),t.label=21;case 21:return b=w.next(),[3,19];case 22:return[3,25];case 23:return x=t.sent(),l={error:x},[3,25];case 24:try{b&&!b.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}return[7];case 25:return[4,u.io.ensureNewline()];case 26:return t.sent(),[4,u.io.printl("[999] 終了")];case 27:return t.sent(),[4,u.io.drawLine()];case 28:return t.sent(),[4,u.io.inputNumber()];case 29:return D=t.sent(),I=D>=500,S=c.find(function(e){return I?e.ID===D-500:e.ID===D}),999!==D?[3,31]:[4,h.finishTrain()];case 30:return t.sent(),[2,{value:void 0}];case 31:return S?(T=I?i:a,_=I?a:i,G=S.内容取得(r,_,T,a),M=[],S.許容判定(r,_,T,a,M),q=h.実行判定修整(M),[4,h.実行判定表示(q)]):[3,42];case 32:return t.sent(),[4,u.io.printw(S.名前+"を実行")];case 33:return t.sent(),s.autoFixTrainSources(G),[4,u.io.printl("-補正前")];case 34:return t.sent(),[4,h.内容表示(G)];case 35:return t.sent(),[4,u.io.printl("-補正後")];case 36:return t.sent(),E=s.sourceToGaugeChanges(G.補正済み実行者ソース,G.player),[4,u.io.printl("調教者: "+T.呼び名)];case 37:return t.sent(),[4,h.変動表示(E,!0)];case 38:return t.sent(),k=s.sourceToGaugeChanges(G.補正済み対象者ソース,G.target),[4,u.io.printl("調教対象: "+_.呼び名)];case 39:return t.sent(),[4,h.変動表示(k,!0)];case 40:return t.sent(),h.変動加算(T.変動,E),h.変動加算(_.変動,k),[4,u.io.wait()];case 41:return t.sent(),[3,42];case 42:return[2]}})},h=this,y.label=4;case 4:return[5,f()];case 5:return"object"===e(p=y.sent())?[2,p.value]:[3,4];case 6:return[2]}})})},o.prototype.finishTrain=function(){return r(this,void 0,void 0,function(){var e;return t(this,function(r){return e=this.珠取得(),console.log(e),c.Game.isSceneRegistered("levelup")?this.game.setFlow("levelup",{targetID:this.targetIDs[0]}):this.game.setFlow("main",{}),[2]})})},o.prototype.viewGauge=function(e){return r(this,void 0,void 0,function(){var r,a,i,o,s,l,c,p;return t(this,function(t){switch(t.label){case 0:return[4,f.viewGauge(e)];case 1:t.sent(),i=h.tuple("快Ｃ","快Ｐ","快Ｖ","快Ａ","快Ｂ","快Ｍ","潤滑","恭順","欲情","屈服","習得","恥情","苦痛","恐怖","憤慨","不快","抑鬱"),t.label=2;case 2:t.trys.push([2,7,8,9]),o=n(i),s=o.next(),t.label=3;case 3:return s.done?[3,6]:(l=s.value,c=Math.floor(e.変動[l].value),[4,u.io.printc(l+":"+c)]);case 4:t.sent(),t.label=5;case 5:return s=o.next(),[3,3];case 6:return[3,9];case 7:return p=t.sent(),r={error:p},[3,9];case 8:try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}return[7];case 9:return[4,u.io.printl()];case 10:return t.sent(),[2]}})})},o.prototype.checkTrainable=function(e){if(0===e.players.length||0===e.targets.length){var r="";return 0===e.players.length&&(r+=" 調教者"),0===e.targets.length&&(r+=" 調教対象"),r+="が誰もいなくなった"}return e.players.find(function(e){return e.変動.体力.value>0})?e.players.find(function(e){return e.変動.気力.value>0})?e.targets.find(function(e){return e.変動.体力.value>0})?e.targets.find(function(e){return e.変動.気力.value>0})?void 0:"調教対象"+(e.targets.length>1?"全員":"")+"の気力がなくなった":"調教対象"+(e.targets.length>1?"全員":"")+"の体力がなくなった":"調教者"+(e.players.length>1?"全員":"")+"の気力がなくなった":"調教者"+(e.players.length>1?"全員":"")+"の体力がなくなった"},o.prototype.実行判定修整=function(e){return e},o.prototype.実行判定表示=function(e){return r(this,void 0,void 0,function(){var r,i,o,s,l,c,f,h;return t(this,function(t){switch(t.label){case 0:t.trys.push([0,5,6,7]),o=n(e),s=o.next(),t.label=1;case 1:return s.done?[3,4]:(l=a(s.value,2),c=l[0],f=l[1],0===Math.abs(f)?[3,3]:[4,u.io.prints(c+"("+f+")")]);case 2:t.sent(),t.label=3;case 3:return s=o.next(),[3,1];case 4:return[3,7];case 5:return h=t.sent(),r={error:h},[3,7];case 6:try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}return[7];case 7:return[4,u.io.printl()];case 8:return t.sent(),[2]}})})},o.prototype.内容表示=function(e){return r(this,void 0,void 0,function(){var r,a,i,o,l,c,f,h,p,y,v;return t(this,function(t){switch(t.label){case 0:l="";try{for(c=n(s.KeyOfSourceTable),f=c.next();!f.done;f=c.next())y=f.value,0!==(v=e.実行者ソース[y])&&(l+=y+"("+v+") ")}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return l=l.trim(),[4,u.io.printl(""+e.player.呼び名)];case 1:return t.sent(),[4,u.io.prints("　")];case 2:return t.sent(),[4,u.io.printl(""+l)];case 3:t.sent(),l="";try{for(h=n(s.KeyOfSourceTable),p=h.next();!p.done;p=h.next())y=p.value,0!==(v=e.対象者ソース[y])&&(l+=y+"("+v+") ")}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return l=l.trim(),[4,u.io.printl(""+e.target.呼び名)];case 4:return t.sent(),[4,u.io.prints("　")];case 5:return t.sent(),[4,u.io.printl(""+l)];case 6:return t.sent(),[2]}})})},o.prototype.変動表示=function(e,a){return r(this,void 0,void 0,function(){var r,a,i,s,l,c,f;return t(this,function(t){switch(t.label){case 0:i="";try{for(s=n(o.gaugeNames),l=s.next();!l.done;l=s.next())c=l.value,0!==(f=e[c]).value&&(i+=""+c+this.toSignedString(Math.floor(f.value))+" ")}catch(h){r={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return[4,u.io.printl("　"+i.trim())];case 1:return t.sent(),[2]}})})},o.prototype.toSignedString=function(e){return["-","±","+"][Math.sign(e)+1]+Math.abs(e)},o.prototype.変動加算=function(e,r){var t,a;try{for(var i=n(o.gaugeNames),s=i.next();!s.done;s=i.next()){var u=s.value;e[u].value+=r[u].value}}catch(l){t={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}},o.prototype.珠取得=function(){var e,r,t,a,u=this,l=[],c=i(this.playerIDs,this.targetIDs,this.commanderIDs).map(function(e){return u.game.characters.get(e)});try{for(var f=n(c),h=f.next();!h.done;h=f.next()){var p=h.value,y=[];l.push([p,y]);try{for(var v=n(o.gaugeNames),g=v.next();!g.done;g=v.next()){var d=g.value;if("体力"!==d&&("気力"!==d&&"酩酊"!==d)){var w=s.gaugeToJuel(p.変動[d].value);0!==w&&(y.push([d,w]),p.スコア[d].value+=w,p.変動[d].value=0)}}}catch(b){t={error:b}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(t)throw t.error}}}}catch(m){e={error:m}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return l},o.gaugeNames=h.tuple("体力","気力","酩酊","快Ｃ","快Ｐ","快Ｖ","快Ａ","快Ｂ","快Ｍ","潤滑","恭順","欲情","屈服","習得","恥情","苦痛","恐怖","憤慨","不快","抑鬱"),o}();exports.TrainScene=y,exports.initializeModule=new p.AsyncEvent,exports.initializeModule.addListener(function(){return r(o,void 0,void 0,function(){return t(this,function(e){return c.Game.registerSceneClass("train",y),[2]})})});
},{"./train":"yiZs","../io":"UbnF","./trainloader":"Zib+","../game":"MYCW","../characterstatus/view":"aVf5","../util/tuple":"ny5r","../util/event":"EPnn"}],"xvL3":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function u(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(u,a)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},n=this;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../game"),i=require("../io"),o=require("../util/tuple"),u=require("../util/event");exports.initializeModule=new u.AsyncEvent;var a=function(){function n(e,t){this.game=e;var n=o.getStringOrError(t,"targetID","レベルアップ対象がいないので戻ります");this.targetID=n}return n.prototype.beginScene=function(){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,i.io.printl("levelup")];case 1:return e.sent(),[4,i.io.wait()];case 2:return e.sent(),[2]}})})},n}();exports.LevelUpScene=a,exports.initializeModule.addListener(function(){return e(n,void 0,void 0,function(){return t(this,function(e){return r.Game.registerSceneClass("levelup",a),[2]})})});
},{"../game":"MYCW","../io":"UbnF","../util/tuple":"ny5r","../util/event":"EPnn"}],"UqPC":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r};Object.defineProperty(exports,"__esModule",{value:!0}),require("./trainloader"),require("./trainmode");var r=require("../util/moduleInitializer");exports.initializeModule=r.makeModuleInitializer(Promise.resolve().then(function(){return e(require("./levelupmode"))}),Promise.resolve().then(function(){return e(require("./train"))}),Promise.resolve().then(function(){return e(require("./trainmode"))}));
},{"./trainloader":"Zib+","./trainmode":"w0ou","../util/moduleInitializer":"bC+/","./levelupmode":"xvL3","./train":"yiZs"}],"WTfl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../charadef");require("../../characterstatus"),require("../../train"),exports.default=function(){var r=new e.CharacterDef;return r.番号=0,r.名前="あなた",r.呼び名="あなた",r.変動.体力.max=2e3,r.変動.気力.max=2e3,r.変動.勃起.max=1e3,r.変動.精力.max=1e3,r.特性.Ｐ有り=!0,r.特性.Ｖ有り=!1,r.特性.Ｂ有り=!1,r};
},{"../../charadef":"wrWG","../../characterstatus":"ES22","../../train":"UqPC"}],"pBP/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../charadef");require("../../characterstatus"),require("../../train"),exports.default=function(){var r=new e.CharacterDef;return r.番号=1,r.名前="博麗 霊夢",r.呼び名="霊夢",r.変動.体力.max=1500,r.変動.気力.max=1500,r.変動.勃起.max=1e3,r.変動.精力.max=1e3,r.レベル.レズっ気=1,r.特性.処女=!0,r};
},{"../../charadef":"wrWG","../../characterstatus":"ES22","../../train":"UqPC"}],"ac3C":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.characterDefList=[Promise.resolve().then(function(){return e(require("./chara0"))}),Promise.resolve().then(function(){return e(require("./chara1"))})];
},{"./chara0":"WTfl","./chara1":"pBP/"}],"1Cdw":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function u(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(u,i)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,a,o,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(a=(a=u.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){u.label=o[1];break}if(6===o[0]&&u.label<a[1]){u.label=a[1],a=o;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(o);break}a[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(i){o=[6,i],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},n=this;Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./charalist"),o=void 0;exports.getCharacterDefList=function(){return e(n,void 0,Promise,function(){var e,n,u,i,l,c,s;return t(this,function(t){switch(t.label){case 0:if(o)return[2,o];u=[],t.label=1;case 1:t.trys.push([1,6,7,8]),i=r(a.characterDefList),l=i.next(),t.label=2;case 2:return l.done?[3,5]:[4,l.value];case 3:c=t.sent().default,u.push(c()),t.label=4;case 4:return l=i.next(),[3,2];case 5:return[3,8];case 6:return s=t.sent(),e={error:s},[3,8];case 7:try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}return[7];case 8:return o=u,[2,u]}})})};
},{"./charalist":"ac3C"}],"uvOE":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,r,n,o){var a,i=arguments.length,c=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,n):o;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,r,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(c=(i<3?a(c):i>3?a(r,n,c):a(r,n))||c);return i>3&&c&&Object.defineProperty(r,n,c),c},r=this&&this.__metadata||function(t,r){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)},n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(t){a(t)}}function c(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./savedata"),c=require("./util"),s=require("./charadef/charaloader"),u=function(){function e(){this.idOrder=[],this.characters=new Map}var u;return u=e,e.prototype.get=function(e){var t=this.characters.get(e);if(!t)throw new Error("存在しないキャラID '"+e+"'");return t},e.prototype.tryGet=function(e){return this.characters.get(e)},e.prototype.createCharacter=function(e){return n(this,void 0,Promise,function(){var t,r,n,i,c,s,p;return o(this,function(o){switch(o.label){case 0:return[4,this.resolveCharaDef(e)];case 1:n=o.sent(),i=n?n.名前:"",(c=new f).ID=this.getUnusedID(i);try{for(s=a(u.prepareFunctions),p=s.next();!p.done;p=s.next())(0,p.value)(c,n)}catch(d){t={error:d}}finally{try{p&&!p.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return this.characters.set(c.ID,c),this.idOrder.push(c.ID),[2,c]}})})},e.prototype.resolveCharaDef=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return void 0!==e?[3,1]:[2,e];case 1:return"number"!=typeof e?[3,3]:[4,s.getCharacterDefList()];case 2:if(t=n.sent(),void 0===(r=t.find(function(t){return t.番号===e})))throw new Error("CharacterDefが見つからない: "+e);return[2,r];case 3:return[2,e]}})})},e.prototype.getUnusedID=function(e){for(var t=0;;){var r=e+c.uniqueId();if((t+=1)>1e5)throw new Error("much loops");if(!this.characters.has(r))return r}},e.prepareFunctions=[],t([i.savedata,r("design:type",Array)],e.prototype,"idOrder",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"characters",void 0),e=u=t([i.saveclass("charactercontainer")],e)}();exports.CharactersContainer=u,u.prepareFunctions.push(function(e,t){t&&(e.番号=t.番号,e.名前=t.名前,e.呼び名=t.呼び名)});var p=function(){function e(){var e,t;this.相性=0,this.好感度=0,this.恋慕=!1,this.親愛=!1,this.淫乱=!1,this.娼婦=!1,this.服従=!1,this.隷属=!1;try{for(var r=a(n.initializers),o=r.next();!o.done;o=r.next()){(0,o.value)(this)}}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}var n;return n=e,e.initializers=[],t([i.savedata,r("design:type",Object)],e.prototype,"相性",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"好感度",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"恋慕",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"親愛",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"淫乱",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"娼婦",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"服従",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"隷属",void 0),e=n=t([i.saveclass("unidirectionalrelationship"),r("design:paramtypes",[])],e)}();exports.UnidirectionalRelationship=p;var f=function(){function e(){this.ID="＜ID＞",this.番号=-1,this.名前="＜名前＞",this.呼び名="＜呼び名＞",this.関係=new Map}return e.prototype.関係取得=function(e,t){if(void 0===t&&(t=!1),!e||!e.ID)throw new Error("invalid character: "+(e||{}).ID);var r=this.関係.get(e.ID);if(!r&&t){var n=new p;return this.関係.set(e.ID,n),n}return r},t([i.savedata,r("design:type",Object)],e.prototype,"ID",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"番号",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"名前",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"呼び名",void 0),t([i.savedata,r("design:type",Object)],e.prototype,"関係",void 0),e=t([i.saveclass("characterreference")],e)}();exports.CharacterReference=f;
},{"./savedata":"y9i9","./util":"1/bm","./charadef/charaloader":"1Cdw"}],"B4qv":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,o,a,i){var n,r=arguments.length,s=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,a):i;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,o,a,i);else for(var d=t.length-1;d>=0;d--)(n=t[d])&&(s=(r<3?n(s):r>3?n(o,a,s):n(o,a))||s);return r>3&&s&&Object.defineProperty(o,a,s),s},o=this&&this.__metadata||function(t,o){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./savedata");console.log("variables");var i=function(){function e(){this.日付=new n,this.所持金=0,this.選択中のキャラID=[]}return t([a.savedata,o("design:type",Object)],e.prototype,"日付",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"所持金",void 0),t([a.savedata,o("design:type",Array)],e.prototype,"選択中のキャラID",void 0),e=t([a.saveclass("variable")],e)}();exports.Variables=i;var n=function(){function e(){this.年=1,this.月=1,this.日=1,this.時=0,this.分=0,this.秒=0,this.ミリ秒=0}return t([a.savedata,o("design:type",Object)],e.prototype,"年",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"月",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"日",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"時",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"分",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"秒",void 0),t([a.savedata,o("design:type",Object)],e.prototype,"ミリ秒",void 0),e=t([a.saveclass("date")],e)}();exports.Date=n;
},{"./savedata":"y9i9"}],"MYCW":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__decorate||function(t,r,n,o){var a,i=arguments.length,c=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,n):o;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,r,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(c=(i<3?a(c):i>3?a(r,n,c):a(r,n))||c);return i>3&&c&&Object.defineProperty(r,n,c),c},r=this&&this.__metadata||function(t,r){if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)},n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(t){a(t)}}function c(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./io"),i=require("./character"),c=require("./variables"),s=require("./savedata");exports.isGameScene=function(e){return!(!e||!e.beginScene||"function"!=typeof e.beginScene)};var u=function(){function e(){this.characters=new i.CharactersContainer,this.currentFlow="title",this.currentFlowData=null,this.variables=new c.Variables,this.playerCharacterID=""}var u;return u=e,e.prototype.setFlow=function(e,t){this.currentFlow=e,this.currentFlowData=JSON.parse(JSON.stringify(t))},e.prototype.setDefaultFlow=function(){this.setFlow(u.defaultScene,{})},e.prototype.serialize=function(){return s.serializer.serialize(this)},e.prototype.serializeObj=function(){return s.serializer.convertToSerializableData(this)},e.registerSceneClass=function(e,t){if(u.sceneMap[e])throw new Error("overlapped scene: "+e);u.sceneMap[e]=t},e.isSceneRegistered=function(e){return!!u.sceneMap[e]},e.run=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return(t=u.sceneMap[e.currentFlow])?[3,5]:[4,a.io.printError("エラー！ currentFlowが不正な値になっている: "+e.currentFlow)];case 1:return r.sent(),[4,a.io.wait()];case 2:return r.sent(),e.currentFlow=u.defaultScene,[4,a.io.printError("シーン'"+u.defaultScene+"'に戻ります")];case 3:return r.sent(),[4,a.io.wait()];case 4:return r.sent(),[3,0];case 5:return[4,new t(e,e.currentFlowData).beginScene()];case 6:return r.sent(),[4,a.io.waitTime(1)];case 7:return r.sent(),[3,0];case 8:return[2]}})})},e.serializer=s.serializer,e.prepareFunctions=[],e.defaultScene="main",e.sceneMap={},t([s.savedata,r("design:type",Object)],e.prototype,"characters",void 0),t([s.savedata,r("design:type",Object)],e.prototype,"currentFlow",void 0),t([s.savedata,r("design:type",Object)],e.prototype,"currentFlowData",void 0),t([s.savedata,r("design:type",Object)],e.prototype,"variables",void 0),t([s.savedata,r("design:type",Object)],e.prototype,"playerCharacterID",void 0),e=u=t([s.saveclass("game")],e)}();exports.Game=u;
},{"./io":"UbnF","./character":"uvOE","./variables":"B4qv","./savedata":"y9i9"}],"0omr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.title="EraJS test版",exports.version="0.0.1",window.document.title=exports.title;
},{}],"pV+A":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function c(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(s,c)}u((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(c){i=[6,c],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this;Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./io"),s=require("./game"),c=require("./characterstatus/view"),u=require("./util/clamp"),o=n(require("./project")),l=require("./charadef/charaloader"),h=require("./util/event"),f=function(){function r(e,t){this.game=e}return r.prototype.beginScene=function(){return e(this,void 0,void 0,function(){var e,r,n;return t(this,function(t){switch(t.label){case 0:return[4,i.io.align("center")];case 1:return t.sent(),[4,i.io.drawLine()];case 2:return t.sent(),[4,i.io.printl("EraJS v."+o.version)];case 3:return t.sent(),[4,i.io.printl("このゲームは18歳未満はプレイ禁止です。")];case 4:return t.sent(),[4,i.io.drawLine()];case 5:return t.sent(),[4,i.io.printl("[0] はじめから")];case 6:return t.sent(),[4,i.io.printl("[1] つづきから")];case 7:return t.sent(),[4,i.io.align("left")];case 8:return t.sent(),[4,i.io.inputNumber()];case 9:return 0!==t.sent()?[3,13]:[4,l.getCharacterDefList()];case 10:return e=t.sent(),console.log(e),[4,this.game.characters.createCharacter(0)];case 11:return r=t.sent(),this.game.playerCharacterID=r.ID,[4,this.game.characters.createCharacter(1)];case 12:return n=t.sent(),this.game.variables.選択中のキャラID=[n.ID],this.game.setFlow("main",{}),[3,15];case 13:return[4,i.io.printw("ロードは未実装")];case 14:t.sent(),t.label=15;case 15:return[2]}})})},r}();s.Game.registerSceneClass("title",f);var v=function(){function n(e,t){this.game=e}return n.prototype.beginScene=function(){return e(this,void 0,void 0,function(){var e,r,n,a,s=this;return t(this,function(t){switch(t.label){case 0:return[4,i.io.drawLine()];case 1:return t.sent(),e=this.game.characters.get(this.game.playerCharacterID),r=this.game.variables,[4,i.io.printl("日付："+r.日付.日+"日目　所持金："+r.所持金)];case 2:return t.sent(),[4,i.io.printl(""+e.呼び名)];case 3:return t.sent(),[4,c.viewGauge(e)];case 4:return t.sent(),(n=this.game.characters.tryGet(this.game.variables.選択中のキャラID[0]||""))?[4,i.io.printl("調教対象: "+n.呼び名)]:[3,7];case 5:return t.sent(),[4,c.viewGauge(n)];case 6:return t.sent(),[3,9];case 7:return[4,i.io.printl("調教対象: なし")];case 8:t.sent(),t.label=9;case 9:return[4,i.io.drawLine()];case 10:return t.sent(),[4,i.io.branch([["調教開始",function(){return s.game.setFlow("train",{playerIDs:[s.game.playerCharacterID],targetIDs:s.game.variables.選択中のキャラID})}],["休憩",function(){return s.rest(s.game)}],["能力表示",function(){return s.status(s.game)}],["対象選択",function(){return s.selectTarget(s.game)}],["アイテムショップ",void 0],["データセーブ",void 0],["データロード",void 0],["設定",void 0]])];case 11:return(a=t.sent())?[4,a()]:[3,13];case 12:t.sent(),t.label=13;case 13:return[2]}})})},n.prototype.selectCharacter=function(n,a){var s=(void 0===a?{}:a).allowBack,c=void 0===s||s;return e(this,void 0,void 0,function(){var e,a,s,u,o,l,h,f,v;return t(this,function(t){switch(t.label){case 0:return[4,i.io.drawLine()];case 1:return t.sent(),[4,i.io.printl("対象を選んでください")];case 2:return t.sent(),i.io.branchBlank(),[4,i.io.drawLine()];case 3:t.sent(),t.label=4;case 4:t.trys.push([4,10,11,12]),s=r(n.characters.idOrder),u=s.next(),t.label=5;case 5:return u.done?[3,9]:(o=u.value,l=n.characters.get(o),[4,i.io.printButton(""+l.呼び名,l.ID)]);case 6:return t.sent(),[4,i.io.newline()];case 7:t.sent(),t.label=8;case 8:return u=s.next(),[3,5];case 9:return[3,12];case 10:return h=t.sent(),e={error:h},[3,12];case 11:try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(e)throw e.error}return[7];case 12:return[4,i.io.drawLine()];case 13:return t.sent(),c?[4,i.io.printButton("戻る","")]:[3,15];case 14:t.sent(),t.label=15;case 15:return[4,i.io.newline()];case 16:return t.sent(),[4,i.io.inputString()];case 17:return f=t.sent(),(v=n.characters.tryGet(f))?[2,v]:c?[2]:[3,0];case 18:return[2]}})})},n.prototype.selectTarget=function(r){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,this.selectCharacter(r)];case 1:return(e=t.sent())&&(r.variables.選択中のキャラID=[e.ID]),[2]}})})},n.prototype.status=function(r){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,this.selectCharacter(r)];case 1:return(e=t.sent())?[4,c.viewStatus(e)]:[3,4];case 2:return t.sent(),[4,i.io.wait()];case 3:t.sent(),t.label=4;case 4:return[2]}})})},n.prototype.rest=function(n){return e(this,void 0,void 0,function(){var e,a,s,c,o,l,h;return t(this,function(t){switch(t.label){case 0:s=function(e,t){var r=t(e.value);e.value=u.clamp(r,e.min,e.max)};try{for(c=r(n.characters.idOrder),o=c.next();!o.done;o=c.next())l=o.value,h=n.characters.get(l),s(h.変動.体力,function(e){return e+1e3}),s(h.変動.気力,function(e){return e+1e7})}catch(f){e={error:f}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(e)throw e.error}}return n.variables.日付.日+=1,[4,i.io.drawLine()];case 1:return t.sent(),[4,i.io.printw("休憩しました")];case 2:return t.sent(),[2]}})})},n}();exports.initializeModule=new h.AsyncEvent,exports.initializeModule.addListener(function(){return e(a,void 0,void 0,function(){return t(this,function(e){return s.Game.registerSceneClass("main",v),[2]})})});
},{"./io":"UbnF","./game":"MYCW","./characterstatus/view":"aVf5","./util/clamp":"ytXs","./project":"0omr","./charadef/charaloader":"1Cdw","./util/event":"EPnn"}],"Dsj3":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],r=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(i,a){function u(e){try{l(n.next(e))}catch(r){a(r)}}function o(e){try{l(n.throw(e))}catch(r){a(r)}}function l(e){e.done?i(e.value):new t(function(r){r(e.value)}).then(u,o)}l((n=n.apply(e,r||[])).next())})},t=this&&this.__generator||function(e,r){var t,n,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(o){a=[6,o],n=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},i=this;Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./game"),u=require("./savedata"),o=require("./util/moduleInitializer");require("./io"),require("./train"),require("./charadef"),require("./characterstatus"),require("./mainscene");var l=require("./characterstatus/gauge"),s=o.makeModuleInitializer(Promise.resolve().then(function(){return n(require("./io"))}),Promise.resolve().then(function(){return n(require("./train"))}),Promise.resolve().then(function(){return n(require("./mainscene"))}),Promise.resolve().then(function(){return n(require("./characterstatus"))})),c=function(){return r(i,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,s.invoke()];case 1:return e.sent(),window.serializer=u.serializer,window.game=new a.Game,window.GaugeTable=l.GaugeTable,[4,a.Game.run(window.game)];case 2:return e.sent(),[2]}})})};window.addEventListener("load",c);
},{"./game":"MYCW","./savedata":"y9i9","./util/moduleInitializer":"bC+/","./io":"UbnF","./train":"UqPC","./charadef":"wrWG","./characterstatus":"ES22","./mainscene":"pV+A","./characterstatus/gauge":"s5xr"}]},{},["Dsj3"], null)
//# sourceMappingURL=start.adba7b8b.js.map